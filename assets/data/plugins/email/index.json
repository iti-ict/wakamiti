{"hash":"c1597b2e72e6209300d467a44f565c0ee410c581","data":{"doc":{"title":"Email","path":"/plugins/email/","date":"3. August 2023","content":"<p>Este plugin permite comprobar el estado de las carpetas de un servidor de correo,\nverificar el número de mensajes sin leer, e interceptar nuevos mensajes entrantes.\nTambién permite validar campos del último mensaje tales como asunto, remitente, cuerpo\ny adjuntos.</p>\n<p>Este plugin está diseñador para usarse conjuntamente con otros para formar escenarios completos.\nPor ejemplo, para validar que una aplicación envía correos como consecuencia de alguna otra\noperación como una petición REST.</p>\n<hr>\n<ul id=\"toc\">\n<li>\n<p><a href=\"#coordenadas\">Coordenadas</a></p>\n<ul>\n<li><a href=\"#fichero-de-configuraci%C3%B3n-wakamiti\">Fichero de configuración Wakamiti</a></li>\n<li><a href=\"#maven\">Maven</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#configuraci%C3%B3n\">Configuración</a></p>\n<ul>\n<li><a href=\"#emailstoreaddress\"><code class=\"language-text\">email.store.address</code></a></li>\n<li><a href=\"#emailpassword\"><code class=\"language-text\">email.password</code></a></li>\n<li><a href=\"#emailstorehost\"><code class=\"language-text\">email.store.host</code></a></li>\n<li><a href=\"#emailstoreport\"><code class=\"language-text\">email.store.port</code></a></li>\n<li><a href=\"#emailstoreprotocol\"><code class=\"language-text\">email.store.protocol</code></a></li>\n<li><a href=\"#emailstorefolder\"><code class=\"language-text\">email.store.folder</code></a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#pasos\">Pasos</a></p>\n<ul>\n<li><a href=\"#definir-la-ubicaci%C3%B3n-del-servidor-de-correo\">Definir la ubicación del servidor de correo</a></li>\n<li><a href=\"#definir-las-credenciales-de-usuario\">Definir las credenciales de usuario</a></li>\n<li><a href=\"#definir-la-carpeta-de-correo-usada-para-las-pruebas\">Definir la carpeta de correo usada para las pruebas</a></li>\n<li><a href=\"#comprobar-el-n%C3%BAmero-de-correos-sin-leer\">Comprobar el número de correos sin leer</a></li>\n<li><a href=\"#comprobar-que-se-recibe-un-nuevo-correo-en-un-intervalo-de-tiempo-determinado\">Comprobar que se recibe un nuevo correo en un intervalo de tiempo determinado</a></li>\n<li><a href=\"#comprobar-el-asunto-del-%C3%BAltimo-correo\">Comprobar el asunto del último correo</a></li>\n<li><a href=\"#comprobar-el-remitente-del-%C3%BAltimo-correo\">Comprobar el remitente del último correo</a></li>\n<li><a href=\"#comprobar-el-contenido-del-cuerpo-del-%C3%BAltimo-correo\">Comprobar el contenido del cuerpo del último correo</a></li>\n<li><a href=\"#comprobar-parcialmente-el-contenido-del-cuerpo-del-%C3%BAltimo-correo\">Comprobar parcialmente el contenido del cuerpo del último correo</a></li>\n<li><a href=\"#comparar-el-contenido-del-cuerpo-del-%C3%BAltimo-correo-con-un-fichero\">Comparar el contenido del cuerpo del último correo con un fichero</a></li>\n<li><a href=\"#comparar-parcialmente-el-contenido-del-cuerpo-del-%C3%BAltimo-correo-con-un-fichero\">Comparar parcialmente el contenido del cuerpo del último correo con un fichero</a></li>\n<li><a href=\"#comprobar-el-n%C3%BAmero-de-adjuntos-en-el-%C3%BAltimo-correo\">Comprobar el número de adjuntos en el último correo</a></li>\n<li><a href=\"#comprobar-que-el-%C3%BAltimo-correo-contiene-un-adjunto-con-determinado-nombre-de-fichero\">Comprobar que el último correo contiene un adjunto con determinado nombre de fichero</a></li>\n<li><a href=\"#comparar-el-contenido-de-un-fichero-adjunto-en-formato-binario\">Comparar el contenido de un fichero adjunto en formato binario</a></li>\n<li><a href=\"#comparar-el-contenido-de-un-fichero-adjunto-en-formato-de-texto\">Comparar el contenido de un fichero adjunto en formato de texto</a></li>\n<li><a href=\"#comparar-el-contenido-de-un-adjunto-con-el-texto-indicado\">Comparar el contenido de un adjunto con el texto indicado</a></li>\n<li><a href=\"#eliminar-todos-los-correos-con-un-remitente-determinado-operaci%C3%B3n-de-limpieza\">Eliminar todos los correos con un remitente determinado (operación de limpieza)</a></li>\n<li><a href=\"#eliminar-todos-los-correos-con-un-asunto-determinado-operaci%C3%B3n-de-limpieza\">Eliminar todos los correos con un asunto determinado (operación de limpieza)</a></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"coordenadas\"><a href=\"#coordenadas\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Coordenadas</h2>\n<h3 id=\"fichero-de-configuración-wakamiti\"><a href=\"#fichero-de-configuraci%C3%B3n-wakamiti\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Fichero de configuración Wakamiti</h3>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">launcher</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">modules</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> es.iti.wakamiti<span class=\"token punctuation\">:</span>email<span class=\"token punctuation\">-</span>wakamiti<span class=\"token punctuation\">-</span>plugin<span class=\"token punctuation\">:</span>1.0.0</pre>\n<h3 id=\"maven\"><a href=\"#maven\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Maven</h3>\n<pre class=\"language-text\">  &lt;dependency&gt;\n    &lt;groupId&gt;es.iti.wakamiti&lt;/groupId&gt;\n    &lt;artifactId&gt;email-wakamiti-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;/dependency&gt;</pre>\n<hr>\n<h2 id=\"configuración\"><a href=\"#configuraci%C3%B3n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Configuración</h2>\n<h3 id=\"emailstoreaddress\"><a href=\"#emailstoreaddress\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">email.store.address</code></h3>\n<p>Dirección de correo del usuario del servidor, para usarse como crendenciales de login.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">email</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">address</span><span class=\"token punctuation\">:</span> test@localhost</pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"emailpassword\"><a href=\"#emailpassword\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">email.password</code></h3>\n<p>Contraseña del usuario del servidor de correo, para usarse como credenciales de login.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">email</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> xjlk4324</pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"emailstorehost\"><a href=\"#emailstorehost\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">email.store.host</code></h3>\n<p>Nombre de red o dirección IP donde está ubicado el almacén del servidor de correo.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">email</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">store</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> imap.gmail.com</pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"emailstoreport\"><a href=\"#emailstoreport\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">email.store.port</code></h3>\n<p>Puerto para acceder al almacén del servidor de correo (suele variar en función del protocolo).</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">email</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">993</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"emailstoreprotocol\"><a href=\"#emailstoreprotocol\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">email.store.protocol</code></h3>\n<p>Protocolo usado por el almacén del servidor de correo.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">email</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">store</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">protocol</span><span class=\"token punctuation\">:</span> imap</pre>\n<hr>\n<h3 id=\"emailstorefolder\"><a href=\"#emailstorefolder\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">email.store.folder</code></h3>\n<p>Nombre de la carpeta a comprobar dentro del almacén de correo\nEjemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">email</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">store</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">folder</span><span class=\"token punctuation\">:</span> INBOX</pre>\n<p>Desde: 1.0.0</p>\n<hr>\n<h2 id=\"pasos\"><a href=\"#pasos\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Pasos</h2>\n<h3 id=\"definir-la-ubicación-del-servidor-de-correo\"><a href=\"#definir-la-ubicaci%C3%B3n-del-servidor-de-correo\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir la ubicación del servidor de correo</h3>\n<pre class=\"language-text\">el servidor de correo ubicado en {host:text}:{port:int} usando el protocolo {protocol:word}</pre>\n<h4 id=\"parámetros\"><a href=\"#par%C3%A1metros\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>nombre</th>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">host</code></td>\n<td><code class=\"language-text\">text</code></td>\n<td>IP o nombre de red del servidor de correo</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">port</code></td>\n<td><code class=\"language-text\">int</code></td>\n<td>Puerto del almacén de correo (según protocolo)</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">protocol</code></td>\n<td><code class=\"language-text\">word</code></td>\n<td>Protocolo del almacén de correo</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos\"><a href=\"#ejemplos\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> el servidor de correo ubicado en <span class=\"token string\">'imap.gmail.com'</span>:993 usando el protocolo imap</pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"definir-las-credenciales-de-usuario\"><a href=\"#definir-las-credenciales-de-usuario\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir las credenciales de usuario</h3>\n<pre class=\"language-text\">el usuario de correo con dirección {address:text} y contraseña {password:text}</pre>\n<h4 id=\"parámetros-1\"><a href=\"#par%C3%A1metros-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>nombre</th>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">address</code></td>\n<td><code class=\"language-text\">text</code></td>\n<td>La dirección de correo</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password</code></td>\n<td><code class=\"language-text\">text</code></td>\n<td>La contraseña de usuario</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-1\"><a href=\"#ejemplos-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> el usuario de correo con dirección <span class=\"token string\">'john@mymail.com'</span>  y contraseña <span class=\"token string\">'daDjkl3434S'</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"definir-la-carpeta-de-correo-usada-para-las-pruebas\"><a href=\"#definir-la-carpeta-de-correo-usada-para-las-pruebas\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir la carpeta de correo usada para las pruebas</h3>\n<pre class=\"language-text\">la carpeta de correo {text}</pre>\n<h4 id=\"parámetros-2\"><a href=\"#par%C3%A1metros-2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">text</code></td>\n<td>El nombre de la carpeta de correo</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-2\"><a href=\"#ejemplos-2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dada</span> la carpeta de correo <span class=\"token string\">'INBOX'</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"comprobar-el-número-de-correos-sin-leer\"><a href=\"#comprobar-el-n%C3%BAmero-de-correos-sin-leer\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar el número de correos sin leer</h3>\n<pre class=\"language-text\">(que) el número de correos sin leer {integer-assertion}</pre>\n<h4 id=\"parámetros-3\"><a href=\"#par%C3%A1metros-3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">integer-assertion</code></td>\n<td>Comprobación a aplicar al número de mensajes sin leer</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-3\"><a href=\"#ejemplos-3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> que el número de correos sin leer is mayor que 0</pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"comprobar-que-se-recibe-un-nuevo-correo-en-un-intervalo-de-tiempo-determinado\"><a href=\"#comprobar-que-se-recibe-un-nuevo-correo-en-un-intervalo-de-tiempo-determinado\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar que se recibe un nuevo correo en un intervalo de tiempo determinado</h3>\n<pre class=\"language-text\">(que) se recibe un nuevo correo en los próximos {sec:integer} segundos</pre>\n<h4 id=\"parámetros-4\"><a href=\"#par%C3%A1metros-4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>nombre</th>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">sec</code></td>\n<td><code class=\"language-text\">integer</code></td>\n<td>Segundos a la espera de que llegue un nuevo correo</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-4\"><a href=\"#ejemplos-4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> se recibe un nuevo correo en los próximos 5 segundos</pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"comprobar-el-asunto-del-último-correo\"><a href=\"#comprobar-el-asunto-del-%C3%BAltimo-correo\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar el asunto del último correo</h3>\n<pre class=\"language-text\">(que) el asunto del correo {text-assertion}</pre>\n<h4 id=\"parámetros-5\"><a href=\"#par%C3%A1metros-5\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">text-assertion</code></td>\n<td>Comprobación a aplicar al asunto del correo</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-5\"><a href=\"#ejemplos-5\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el asunto del correo empieza por <span class=\"token string\">'Nueva incidencia'</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"comprobar-el-remitente-del-último-correo\"><a href=\"#comprobar-el-remitente-del-%C3%BAltimo-correo\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar el remitente del último correo</h3>\n<pre class=\"language-text\">(que) el remitente del correo {text-assertion}</pre>\n<h4 id=\"parámetros-6\"><a href=\"#par%C3%A1metros-6\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">text-assertion</code></td>\n<td>Comprobación a aplicar al remitente del correo</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-6\"><a href=\"#ejemplos-6\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el remitente del correo es <span class=\"token string\">'support@company.com'</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"comprobar-el-contenido-del-cuerpo-del-último-correo\"><a href=\"#comprobar-el-contenido-del-cuerpo-del-%C3%BAltimo-correo\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar el contenido del cuerpo del último correo</h3>\n<pre class=\"language-text\">(que) el cuerpo del correo es:</pre>\n<h4 id=\"parámetros-7\"><a href=\"#par%C3%A1metros-7\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">document</code></td>\n<td>El contenido a comparar</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-7\"><a href=\"#ejemplos-7\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el cuerpo del correo es:\n  <span class=\"token pystring string\">\"\"\"\n     Hola,\n     Su incidencia ha sido recibida.\n     Saludos.\n  \"\"\"</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"comprobar-parcialmente-el-contenido-del-cuerpo-del-último-correo\"><a href=\"#comprobar-parcialmente-el-contenido-del-cuerpo-del-%C3%BAltimo-correo\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar parcialmente el contenido del cuerpo del último correo</h3>\n<pre class=\"language-text\">(que) el cuerpo del correo contiene lo siguiente:</pre>\n<h4 id=\"parámetros-8\"><a href=\"#par%C3%A1metros-8\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">document</code></td>\n<td>El contenido a comparar</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-8\"><a href=\"#ejemplos-8\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el cuerpo del correo contiene lo siguiente:\n  <span class=\"token pystring string\">\"\"\"\n     Su incidencia ha sido recibida.\n  \"\"\"</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"comparar-el-contenido-del-cuerpo-del-último-correo-con-un-fichero\"><a href=\"#comparar-el-contenido-del-cuerpo-del-%C3%BAltimo-correo-con-un-fichero\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comparar el contenido del cuerpo del último correo con un fichero</h3>\n<pre class=\"language-text\">(que) el cuerpo del correo es el contenido del fichero {file}</pre>\n<h4 id=\"parámetros-9\"><a href=\"#par%C3%A1metros-9\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">file</code></td>\n<td>Ruta del fichero a comparar</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-9\"><a href=\"#ejemplos-9\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el cuerpo del correo es el contenido del fichero <span class=\"token string\">'email.txt'</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"comparar-parcialmente-el-contenido-del-cuerpo-del-último-correo-con-un-fichero\"><a href=\"#comparar-parcialmente-el-contenido-del-cuerpo-del-%C3%BAltimo-correo-con-un-fichero\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comparar parcialmente el contenido del cuerpo del último correo con un fichero</h3>\n<pre class=\"language-text\">(que) el cuerpo del correo contiene el contenido del fichero {file}</pre>\n<h4 id=\"parámetros-10\"><a href=\"#par%C3%A1metros-10\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">file</code></td>\n<td>Ruta del fichero a comparar</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-10\"><a href=\"#ejemplos-10\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el cuerpo del correo contiene el contenido del fichero <span class=\"token string\">'email.txt'</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"comprobar-el-número-de-adjuntos-en-el-último-correo\"><a href=\"#comprobar-el-n%C3%BAmero-de-adjuntos-en-el-%C3%BAltimo-correo\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar el número de adjuntos en el último correo</h3>\n<pre class=\"language-text\">(que) el número de adjuntos en el correo {integer-assertion}</pre>\n<h4 id=\"parámetros-11\"><a href=\"#par%C3%A1metros-11\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">integer-assertion</code></td>\n<td>Comprobación a aplicar al número de adjuntos</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-11\"><a href=\"#ejemplos-11\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el número de adjuntos en el correo es menor que 2</pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"comprobar-que-el-último-correo-contiene-un-adjunto-con-determinado-nombre-de-fichero\"><a href=\"#comprobar-que-el-%C3%BAltimo-correo-contiene-un-adjunto-con-determinado-nombre-de-fichero\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar que el último correo contiene un adjunto con determinado nombre de fichero</h3>\n<pre class=\"language-text\">(que) el correo tiene un fichero adjunto cuyo nombre {text-assertion}</pre>\n<h4 id=\"parámetros-12\"><a href=\"#par%C3%A1metros-12\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">text-assertion</code></td>\n<td>Comprobación a aplicar al nombre de los ficheros adjuntos</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-12\"><a href=\"#ejemplos-12\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el correo tiene un fichero adjunto cuyo nombre es <span class=\"token string\">'attach.txt'</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"comparar-el-contenido-de-un-fichero-adjunto-en-formato-binario\"><a href=\"#comparar-el-contenido-de-un-fichero-adjunto-en-formato-binario\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comparar el contenido de un fichero adjunto en formato binario</h3>\n<pre class=\"language-text\">(que) el correo tiene un fichero adjunto con el contenido del fichero binario {file}</pre>\n<h4 id=\"parámetros-13\"><a href=\"#par%C3%A1metros-13\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">file</code></td>\n<td>Ruta del fichero a comparar</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-13\"><a href=\"#ejemplos-13\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el correo tiene un fichero adjunto con el contenido del fichero binario <span class=\"token string\">'attach.dat'</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"comparar-el-contenido-de-un-fichero-adjunto-en-formato-de-texto\"><a href=\"#comparar-el-contenido-de-un-fichero-adjunto-en-formato-de-texto\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comparar el contenido de un fichero adjunto en formato de texto</h3>\n<pre class=\"language-text\">(que) el correo tiene un fichero adjunto con el contenido del fichero de texto {file}</pre>\n<h4 id=\"parámetros-14\"><a href=\"#par%C3%A1metros-14\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">file</code></td>\n<td>Ruta del fichero a comparar</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-14\"><a href=\"#ejemplos-14\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el correo tiene un fichero adjunto con el contenido del fichero de texto <span class=\"token string\">'attach.txt'</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"comparar-el-contenido-de-un-adjunto-con-el-texto-indicado\"><a href=\"#comparar-el-contenido-de-un-adjunto-con-el-texto-indicado\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comparar el contenido de un adjunto con el texto indicado</h3>\n<pre class=\"language-text\">(que) el correo tiene un fichero adjunto con el siguiente contenido:</pre>\n<h4 id=\"parámetros-15\"><a href=\"#par%C3%A1metros-15\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">document</code></td>\n<td>Texto a comparar</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-15\"><a href=\"#ejemplos-15\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el correo tiene un fichero adjunto con el siguiente contenido:\n  <span class=\"token pystring string\">\"\"\"\n  Esto es un contenido adjunto\n  \"\"\"</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"eliminar-todos-los-correos-con-un-remitente-determinado-operación-de-limpieza\"><a href=\"#eliminar-todos-los-correos-con-un-remitente-determinado-operaci%C3%B3n-de-limpieza\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Eliminar todos los correos con un remitente determinado (operación de limpieza)</h3>\n<pre class=\"language-text\">Al finalizar, se borran todos los correos cuyo remitente {text-assertion}</pre>\n<h4 id=\"parámetros-16\"><a href=\"#par%C3%A1metros-16\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">text-assertion</code></td>\n<td>Comprobación a aplicar al remitente de los correos</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-16\"><a href=\"#ejemplos-16\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token scenario\"><span class=\"token keyword\">Antecedentes:</span><span class=\"token important\"></span></span>\n    * Al finalizar, se borran todos los correos cuyo remitente es <span class=\"token string\">'test@localhost'</span></pre>\n<p>Desde: 1.0.0</p>\n<p><br /><br /></p>\n<h3 id=\"eliminar-todos-los-correos-con-un-asunto-determinado-operación-de-limpieza\"><a href=\"#eliminar-todos-los-correos-con-un-asunto-determinado-operaci%C3%B3n-de-limpieza\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Eliminar todos los correos con un asunto determinado (operación de limpieza)</h3>\n<pre class=\"language-text\">Al finalizar, se borran todos los correos cuyo asunto {text-assertion}</pre>\n<h4 id=\"parámetros-17\"><a href=\"#par%C3%A1metros-17\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>tipo wakamiti</th>\n<th>descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">text-assertion</code></td>\n<td>Comprobación a aplicar al asunto de los correos</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-17\"><a href=\"#ejemplos-17\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token scenario\"><span class=\"token keyword\">Antecedentes:</span><span class=\"token important\"></span></span>\n    * Al finalizar, se borran todos los correos cuyo asunto empieza por <span class=\"token string\">'Testing'</span></pre>\n<p>Desde: 1.0.0</p>\n"}},"context":{"id":"2ec58f8bacb9dfebd9ad0d5be55ab2bb","path":"/plugins/email/","locale":"es"}}