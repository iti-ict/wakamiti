{"hash":"d75fc5c421bd5e2cb1c267b2727734b8964c57c9","data":{"doc":{"title":"Pasos REST","path":"/plugins/rest/","date":"20. September 2022","content":"<p>Este plugin proporciona un conjunto de pasos para interactuar con una API RESTful.</p>\n<p><strong>Configuración</strong>:</p>\n<ul>\n<li><a href=\"#restbaseurl\"><code class=\"language-text\">rest.baseURL</code></a></li>\n<li><a href=\"#restcontenttype\"><code class=\"language-text\">rest.contentType</code></a></li>\n<li><a href=\"#resthttpcodethreshold\"><code class=\"language-text\">rest.httpCodeThreshold</code></a></li>\n<li><a href=\"#restoauth2url\"><code class=\"language-text\">rest.oauth2.url</code></a></li>\n<li><a href=\"#restoauth2clientid\"><code class=\"language-text\">rest.oauth2.clientId</code></a></li>\n<li><a href=\"#restoauth2clientsecret\"><code class=\"language-text\">rest.oauth2.clientSecret</code></a></li>\n</ul>\n<p><strong>Pasos</strong>:</p>\n<ul>\n<li><a href=\"#definir-tipo-de-contenido\">Definir tipo de contenido</a></li>\n<li><a href=\"#definir-url-base\">Definir URL base</a></li>\n<li><a href=\"#definir-servicio\">Definir servicio</a></li>\n<li><a href=\"#definir-identificador\">Definir identificador</a></li>\n<li><a href=\"#definir-par%C3%A1metros-de-solicitud-request\">Definir parámetros de solicitud (request)</a></li>\n<li><a href=\"#definir-par%C3%A1metros-de-solicitud-query\">Definir parámetros de búsqueda (query)</a></li>\n<li><a href=\"#definir-par%C3%A1metros-de-solicitud-path\">Definir parámetros de ruta (path)</a></li>\n<li><a href=\"#definir-cabeceras\">Definir cabeceras</a></li>\n<li><a href=\"#definir-timeout\">Definir timeout</a></li>\n<li><a href=\"#definir-umbral-de-cdigos-http\">Definir umbral de códigos HTTP</a></li>\n<li><a href=\"#definir-autenticaci%C3%B3n-b%C3%A1sica\">Definir autenticación básica</a></li>\n<li><a href=\"#definir-token-de-autenticaci%C3%B3n\">Definir token de autenticación</a></li>\n<li><a href=\"#definir-token-de-autenticaci%C3%B3n-fichero\">Definir token de autenticación (fichero)</a></li>\n<li><a href=\"#definir-autenticaci%C3%B3n-oauth2\">Definir autenticación oauth2</a></li>\n<li><a href=\"#definir-archivo-adjunto\">Definir archivo adjunto</a></li>\n<li><a href=\"#definir-archivo-adjunto-fichero\">Definir archivo adjunto (fichero)</a></li>\n<li><a href=\"#realizar-llamada-get\">Realizar llamada GET</a></li>\n<li><a href=\"#realizar-llamada-delete\">Realizar llamada DELETE</a></li>\n<li><a href=\"#realizar-llamada-put-con-mensaje\">Realizar llamada PUT con mensaje</a></li>\n<li><a href=\"#realizar-llamada-put-con-mensaje-fichero\">Realizar llamada PUT con mensaje (fichero)</a></li>\n<li><a href=\"#realizar-llamada-patch\">Realizar llamada PATCH</a></li>\n<li><a href=\"#realizar-llamada-patch-con-mensaje\">Realizar llamada PATCH con mensaje</a></li>\n<li><a href=\"#realizar-llamada-patch-con-mensaje-fichero\">Realizar llamada PATCH con mensaje (fichero)</a></li>\n<li><a href=\"#realizar-llamada-post\">Realizar llamada POST</a></li>\n<li><a href=\"#realizar-llamada-post-con-mensaje\">Realizar llamada POST con mensaje</a></li>\n<li><a href=\"#realizar-llamada-post-con-mensaje-fichero\">Realizar llamada POST con mensaje (fichero)</a></li>\n<li><a href=\"#comprobar-c%C3%B3digo-http-de-respuesta\">Comprobar código HTTP de respuesta</a></li>\n<li><a href=\"#comprobar-mensaje-de-respuesta\">Comprobar mensaje de respuesta</a></li>\n<li><a href=\"#comprobar-mensaje-de-respuesta-fichero\">Comprobar mensaje de respuesta (fichero)</a></li>\n<li><a href=\"#comprobar-fragmento-de-la-respuesta\">Comprobar fragmento de la respuesta</a></li>\n<li><a href=\"#comprobar-tipo-de-contenido-de-la-respuesta\">Comprobar tipo de contenido de la respuesta</a></li>\n<li><a href=\"#comprobar-tama%C3%B1o-de-la-respuesta\">Comprobar tamaño de la respuesta</a></li>\n<li><a href=\"#comprobar-cabecera\">Comprobar cabecera</a></li>\n</ul>\n<h2 id=\"configuración\"><a href=\"#configuraci%C3%B3n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Configuración</h2>\n<hr>\n<h3 id=\"restbaseurl\"><a href=\"#restbaseurl\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">rest.baseURL</code></h3>\n<p>Establece la URL base para las llamadas REST.\nEsto es equivalente al paso <code class=\"language-text\">{word} como el tipo de contenido REST</code> si se prefiere una declaración más descriptiva.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">rest</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">baseURL</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//example.org/api/v2</pre>\n<hr>\n<h3 id=\"restcontenttype\"><a href=\"#restcontenttype\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">rest.contentType</code></h3>\n<p>Establece el tipo de contenido que se enviará en la cabecera de las llamadas REST.\nLos valores aceptados son:</p>\n<table>\n<thead>\n<tr>\n<th>literal</th>\n<th>valor de la cabecera <code class=\"language-text\">content-type</code></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">ANY</code></td>\n<td><code class=\"language-text\">*/*</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">TEXT</code></td>\n<td><code class=\"language-text\">text/plain</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">JSON</code></td>\n<td><code class=\"language-text\">application/json, application/javascript, text/javascript, text/json</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">XML</code></td>\n<td><code class=\"language-text\">application/xml, text/xml, application/xhtml+xml</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">HTML</code></td>\n<td><code class=\"language-text\">text/html</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">URLENC</code></td>\n<td><code class=\"language-text\">application/x-www-form-urlencoded</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">BINARY</code></td>\n<td><code class=\"language-text\">application/octet-stream</code></td>\n</tr>\n</tbody>\n</table>\n<p>El valor por defecto es <code class=\"language-text\">JSON</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">rest</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">contentType</span><span class=\"token punctuation\">:</span> XML</pre>\n<hr>\n<h3 id=\"resthttpcodethreshold\"><a href=\"#resthttpcodethreshold\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">rest.httpCodeThreshold</code></h3>\n<p>Establece un límite a los códigos de respuesta HTTP. Cada vez que una llamada REST retorne un\ncódigo HTTP igual o superior a este valor, el paso se marcará como fallido automáticamente, sin\ncomprobar ninguna otra condición.</p>\n<p>El valor por defecto es <code class=\"language-text\">500</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">rest</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">httpCodeThreshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">999</span></pre>\n<hr>\n<h3 id=\"restoauth2url\"><a href=\"#restoauth2url\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">rest.oauth2.url</code></h3>\n<p>Establece el servicio de autenticación <a href=\"https://datatracker.ietf.org/doc/html/rfc6749\" title=\"OAuth 2.0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">OAuth 2.0</a> que se usará para generar el token que se enviará\nen la cabecera HTTP <code class=\"language-text\">Authorization</code> de las llamadas REST.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">rest</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">oauth2</span><span class=\"token punctuation\">:</span> \n    <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//accounts.google.com/o/oauth2/auth</pre>\n<hr>\n<h3 id=\"restoauth2clientid\"><a href=\"#restoauth2clientid\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">rest.oauth2.clientId</code></h3>\n<p>Establece el parámetro <code class=\"language-text\">clientId</code> para el servicio de autenticación <a href=\"https://datatracker.ietf.org/doc/html/rfc6749\" title=\"OAuth 2.0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">OAuth 2.0</a> definido\npor el valor de la propiedad de configuración <code class=\"language-text\">rest.oauth2.url</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">rest</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">oauth2</span><span class=\"token punctuation\">:</span> \n    <span class=\"token key atrule\">clientId</span><span class=\"token punctuation\">:</span> WEB_APP</pre>\n<hr>\n<h3 id=\"restoauth2clientsecret\"><a href=\"#restoauth2clientsecret\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">rest.oauth2.clientSecret</code></h3>\n<p>Establece el parámetro <code class=\"language-text\">clientSecret</code> para el servicio de autenticación <a href=\"https://datatracker.ietf.org/doc/html/rfc6749\" title=\"OAuth 2.0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">OAuth 2.0</a> definido\npor el valor de la propiedad de configuración <code class=\"language-text\">rest.oauth2.url</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">rest</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">oauth2</span><span class=\"token punctuation\">:</span> \n    <span class=\"token key atrule\">clientSecret</span><span class=\"token punctuation\">:</span> ABRACADABRAus1ZMGHvq9R</pre>\n<h2 id=\"pasos\"><a href=\"#pasos\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Pasos</h2>\n<hr>\n<h3 id=\"definir-tipo-de-contenido\"><a href=\"#definir-tipo-de-contenido\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir tipo de contenido</h3>\n<pre class=\"language-text\">{type} como el tipo de contenido REST</pre>\n<p>Establece el tipo de contenido de la API en la cabecera <code class=\"language-text\">content-type</code>. Este paso es equivalente a configurar la\npropiedad <a href=\"#restcontenttype\"><code class=\"language-text\">rest.contentType</code></a>. </p>\n<h4 id=\"parámetros\"><a href=\"#par%C3%A1metros\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">type</code></td>\n<td><code class=\"language-text\">word</code></td>\n<td>La URL de conexión</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos\"><a href=\"#ejemplos\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> XML como el tipo de contenido REST</pre>\n<hr>\n<h3 id=\"definir-url-base\"><a href=\"#definir-url-base\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir URL base</h3>\n<pre class=\"language-text\">la URL base {url}</pre>\n<p>Establece la ruta base de la API. Este paso es equivalente a configurar la propiedad <a href=\"#restbaseurl\"><code class=\"language-text\">rest.baseURL</code></a>. </p>\n<h4 id=\"parámetros-1\"><a href=\"#par%C3%A1metros-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">url</code></td>\n<td><code class=\"language-text\">url</code></td>\n<td>URL base</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-1\"><a href=\"#ejemplos-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dada</span> la URL base https//example.org/api</pre>\n<hr>\n<h3 id=\"definir-servicio\"><a href=\"#definir-servicio\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir servicio</h3>\n<pre class=\"language-text\">el servicio REST {service}</pre>\n<p>Establece la ruta del servicio a probar. Se concatenará al valor de la <a href=\"#definir-url-base\">url base</a>.</p>\n<h4 id=\"parámetros-2\"><a href=\"#par%C3%A1metros-2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">service</code></td>\n<td><code class=\"language-text\">text</code></td>\n<td>Segmento URL</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-2\"><a href=\"#ejemplos-2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> el servicio REST '/users`</pre>\n<hr>\n<h3 id=\"definir-identificador\"><a href=\"#definir-identificador\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir identificador</h3>\n<pre class=\"language-text\">* identificad(o|a|os|as) por {text}</pre>\n<p>Establece un identificador de recurso REST para ser usado por el servicio. Se concatenará al valor de la\n<a href=\"#definir-url-base\">url base</a> y del <a href=\"#definir-servicio\">servicio</a> en concreto.</p>\n<h4 id=\"parámetros-3\"><a href=\"#par%C3%A1metros-3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h4>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">text</code></td>\n<td><code class=\"language-text\">text</code></td>\n<td>Un identificador de recurso</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"ejemplos-3\"><a href=\"#ejemplos-3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> un usuario identificado por <span class=\"token string\">'john'</span></pre>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> un libro identificado por <span class=\"token string\">'978-3-16-148410-0'</span></pre>\n<hr>\n<h3 id=\"definir-parámetros-de-solicitud-request\"><a href=\"#definir-par%C3%A1metros-de-solicitud-request\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir parámetros de solicitud (request)</h3>\n<pre class=\"language-text\">los siguiente parámetros de solicitud:</pre>\n<p>Establece los parámetros de la petición REST. Estos parámetros se enviaran como datos de formulario.</p>\n<h5 id=\"parámetros-4\"><a href=\"#par%C3%A1metros-4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td><code class=\"language-text\">table</code></td>\n<td>Una tabla con las columnas <code class=\"language-text\">nombre</code> y <code class=\"language-text\">valor</code></td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-4\"><a href=\"#ejemplos-4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dados</span> los siguiente parámetros de solicitud:<span class=\"token table-head\">\n    <span class=\"token punctuation\">|</span><span class=\"token th variable\"> nombre </span><span class=\"token punctuation\">|</span><span class=\"token th variable\"> valor    </span><span class=\"token punctuation\">|</span></span><span class=\"token table-body\">\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> age    </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> 13       </span><span class=\"token punctuation\">|</span>\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> city   </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> Valencia </span><span class=\"token punctuation\">|</span></span></pre>\n<hr>\n<h3 id=\"definir-parámetros-de-solicitud-query\"><a href=\"#definir-par%C3%A1metros-de-solicitud-query\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir parámetros de solicitud (query)</h3>\n<pre class=\"language-text\">los siguiente parámetros de búsqueda:</pre>\n<p>Establece los parámetros de la petición REST. Estos parámetros se concatenarán a la URL de la petición tras la ruta,\npor ejemplo <code class=\"language-text\">/user?param1=abc&amp;param2=123</code>.</p>\n<h5 id=\"parámetros-5\"><a href=\"#par%C3%A1metros-5\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td><code class=\"language-text\">table</code></td>\n<td>Una tabla con las columnas <code class=\"language-text\">nombre</code> y <code class=\"language-text\">valor</code></td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-5\"><a href=\"#ejemplos-5\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dados</span> los siguiente parámetros de solicitud:<span class=\"token table-head\">\n    <span class=\"token punctuation\">|</span><span class=\"token th variable\"> nombre </span><span class=\"token punctuation\">|</span><span class=\"token th variable\"> valor    </span><span class=\"token punctuation\">|</span></span><span class=\"token table-body\">\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> age    </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> 13       </span><span class=\"token punctuation\">|</span>\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> city   </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> Valencia </span><span class=\"token punctuation\">|</span></span></pre>\n<hr>\n<h3 id=\"definir-parámetros-de-solicitud-path\"><a href=\"#definir-par%C3%A1metros-de-solicitud-path\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir parámetros de solicitud (path)</h3>\n<pre class=\"language-text\">los siguiente parámetros de ruta:</pre>\n<p>Establece los parámetros de la petición REST. Estos parámetros formarán parte de la ruta de la URL, sustituyendo a los\nfragmentos indicados con <code class=\"language-text\">{}</code>.</p>\n<h5 id=\"parámetros-6\"><a href=\"#par%C3%A1metros-6\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td><code class=\"language-text\">table</code></td>\n<td>Una tabla con las columnas <code class=\"language-text\">nombre</code> y <code class=\"language-text\">valor</code></td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-6\"><a href=\"#ejemplos-6\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> el servicio <span class=\"token string\">'user/{usuario}/items/{item}'</span>\n  <span class=\"token atrule\">Y</span> los siguientes parámetros de ruta:<span class=\"token table-head\">\n    <span class=\"token punctuation\">|</span><span class=\"token th variable\"> nombre  </span><span class=\"token punctuation\">|</span><span class=\"token th variable\"> valor    </span><span class=\"token punctuation\">|</span></span><span class=\"token table-body\">\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> usuario </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> 25       </span><span class=\"token punctuation\">|</span>\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> item    </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> 7        </span><span class=\"token punctuation\">|</span></span></pre>\n<hr>\n<h3 id=\"definir-cabeceras\"><a href=\"#definir-cabeceras\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir cabeceras</h3>\n<pre class=\"language-text\">las siguientes cabeceras:</pre>\n<p>Establece las cabeceras de la petición REST.</p>\n<h5 id=\"parámetros-7\"><a href=\"#par%C3%A1metros-7\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td><code class=\"language-text\">table</code></td>\n<td>Una tabla con las columnas <code class=\"language-text\">nombre</code> y <code class=\"language-text\">valor</code></td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-7\"><a href=\"#ejemplos-7\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dadas</span> las siguientes cabeceras:<span class=\"token table-head\">\n    <span class=\"token punctuation\">|</span><span class=\"token th variable\"> nombre       </span><span class=\"token punctuation\">|</span><span class=\"token th variable\"> valor </span><span class=\"token punctuation\">|</span></span><span class=\"token table-body\">\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> Age          </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> 3600  </span><span class=\"token punctuation\">|</span>\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> Keep-Alive   </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> 1200  </span><span class=\"token punctuation\">|</span></span></pre>\n<hr>\n<h3 id=\"definir-timeout\"><a href=\"#definir-timeout\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir timeout</h3>\n<pre class=\"language-text\">un timeout de {int} (mili)segundos</pre>\n<p>Establece un tiempo máximo de respuesta (en segundos o milisegundos) para las siguientes peticiones HTTP.</p>\n<h5 id=\"parámetros-8\"><a href=\"#par%C3%A1metros-8\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">int</code></td>\n<td><code class=\"language-text\">int</code></td>\n<td>El tiempo máximo</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-8\"><a href=\"#ejemplos-8\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> un timeout de 12000 milisegundos</pre>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> un timeout de 10 segundos</pre>\n<hr>\n<h3 id=\"definir-umbral-de-códigos-http\"><a href=\"#definir-umbral-de-c%C3%B3digos-http\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir umbral de códigos HTTP</h3>\n<pre class=\"language-text\">(que) toda petición se considera fallida si su código HTTP {matcher}</pre>\n<p>Establece una validación general para el código HTTP de todas las respuestas siguientes. Es similar a la propiedad de\nconfiguración <a href=\"#resthttpcodethreshold\"><code class=\"language-text\">rest.httpCodeTreshold</code></a> pero con una validación de enteros personalizada.</p>\n<h5 id=\"parámetros-9\"><a href=\"#par%C3%A1metros-9\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">matcher</code></td>\n<td><code class=\"language-text\">integer-assertion</code></td>\n<td><a href=\"/wakamiti//kukumo/architecture#comparadores\">Comparador</a> numérico</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplo\"><a href=\"#ejemplo\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplo:</h5>\n<pre class=\"language-gherkin\">  * toda petición se considera fallida si su código HTTP es igual o mayor que 500</pre>\n<hr>\n<h3 id=\"definir-autenticación-básica\"><a href=\"#definir-autenticaci%C3%B3n-b%C3%A1sica\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir autenticación básica</h3>\n<pre class=\"language-text\">(que) el servicio usa autenticación básica con las credenciales {username}:{password}</pre>\n<p>Establece las credenciales de autenticación básica que se enviarán en la cabecera HTTP <code class=\"language-text\">Authorization</code>.</p>\n<h5 id=\"parámetros-10\"><a href=\"#par%C3%A1metros-10\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">username</code></td>\n<td><code class=\"language-text\">text</code></td>\n<td>Nombre de usuario</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">password</code></td>\n<td><code class=\"language-text\">text</code></td>\n<td>Contraseña</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-9\"><a href=\"#ejemplos-9\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> que el servicio usa autenticación básica con las credenciales <span class=\"token string\">'us1532'</span>:<span class=\"token string\">'xxxxx'</span></pre>\n<hr>\n<h3 id=\"definir-token-de-autenticación\"><a href=\"#definir-token-de-autenticaci%C3%B3n\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir token de autenticación</h3>\n<pre class=\"language-text\">(que) el servicio usa el token de autenticación {text}</pre>\n<p>Establece el token de autenticación que se enviará en la cabecera <code class=\"language-text\">Authorization</code> para las siguientes peticiones. </p>\n<h5 id=\"parámetros-11\"><a href=\"#par%C3%A1metros-11\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">text</code></td>\n<td><code class=\"language-text\">text</code></td>\n<td>Token de autenticación</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-10\"><a href=\"#ejemplos-10\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> que el servicio usa el token de autenticación <span class=\"token string\">'hudytw9834y9cqy32t94'</span></pre>\n<hr>\n<h3 id=\"definir-token-de-autenticación-fichero\"><a href=\"#definir-token-de-autenticaci%C3%B3n-fichero\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir token de autenticación (fichero)</h3>\n<pre class=\"language-text\">(que) el servicio usa el token de autenticación del fichero {file}</pre>\n<p>Establece el token de autenticación que se enviará en la cabecera <code class=\"language-text\">Authorization</code> para las siguientes llamadas, obtenido\ndesde un fichero.</p>\n<h5 id=\"parámetros-12\"><a href=\"#par%C3%A1metros-12\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">file</code></td>\n<td><code class=\"language-text\">file</code></td>\n<td>Fichero con el token de autenticación</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplo-1\"><a href=\"#ejemplo-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplo:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> que el servicio usa el token de autenticación del fichero <span class=\"token string\">'token.txt'</span></pre>\n<hr>\n<h3 id=\"definir-autenticación-oauth2\"><a href=\"#definir-autenticaci%C3%B3n-oauth2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir autenticación oauth2</h3>\n<pre class=\"language-text\">(que) el servicio usa el proveedor de autenticación con los siguientes datos:</pre>\n<p>Establece el cuerpo que se enviará al servicio de autenticación.</p>\n<h5 id=\"parámetros-13\"><a href=\"#par%C3%A1metros-13\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td><code class=\"language-text\">document</code></td>\n<td>Cadena con los parámetros de autenticación</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-11\"><a href=\"#ejemplos-11\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> que el servicio usa el proveedor de autenticación con los siguientes datos:\n    <span class=\"token pystring string\">\"\"\"\n    grant_type=password&amp;username=OficinaTest4&amp;password=xxxxx\n    \"\"\"</span></pre>\n<hr>\n<h3 id=\"definir-archivo-adjunto\"><a href=\"#definir-archivo-adjunto\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir archivo adjunto</h3>\n<pre class=\"language-text\">(que) se incluye el fichero adjunto con los siguientes datos:</pre>\n<p>Indica el texto que se incluirá como fichero adjunto en datos de formulario.</p>\n<h5 id=\"parámetros-14\"><a href=\"#par%C3%A1metros-14\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td><code class=\"language-text\">document</code></td>\n<td>Contenido a adjuntar</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-12\"><a href=\"#ejemplos-12\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> que se incluye el fichero adjunto con los siguientes datos:\n    <span class=\"token pystring string\">\"\"\"\n    Contenido del fichero\n    \"\"\"</span></pre>\n<hr>\n<h3 id=\"definir-archivo-adjunto-fichero\"><a href=\"#definir-archivo-adjunto-fichero\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Definir archivo adjunto (fichero)</h3>\n<pre class=\"language-text\">(que) se incluye el fichero adjunto {file}</pre>\n<p>Indica el fichero cuyo contenido se incluirá como fichero adjunto en datos de formulario.</p>\n<h5 id=\"parámetros-15\"><a href=\"#par%C3%A1metros-15\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">file</code></td>\n<td><code class=\"language-text\">file</code></td>\n<td>Fichero con el contenido a adjuntar</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-13\"><a href=\"#ejemplos-13\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> que se incluye el fichero adjunto <span class=\"token string\">'data.txt'</span></pre>\n<hr>\n<h3 id=\"realizar-llamada-get\"><a href=\"#realizar-llamada-get\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Realizar llamada GET</h3>\n<pre class=\"language-text\">se realiza la búsqueda *</pre>\n<pre class=\"language-text\">se consulta(n) *</pre>\n<p>Envía una petición <code class=\"language-text\">GET</code> al servicio con los parámetros definidos previamente.</p>\n<h5 id=\"ejemplos-14\"><a href=\"#ejemplos-14\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> el servicio REST <span class=\"token string\">'/users'</span>\n  <span class=\"token atrule\">Y</span> los siguientes parámetros de búsqueda:<span class=\"token table-head\">\n    <span class=\"token punctuation\">|</span><span class=\"token th variable\"> name </span><span class=\"token punctuation\">|</span><span class=\"token th variable\"> value    </span><span class=\"token punctuation\">|</span></span><span class=\"token table-body\">\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> age  </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> 13       </span><span class=\"token punctuation\">|</span>\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> city </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> Valencia </span><span class=\"token punctuation\">|</span></span>\n  <span class=\"token atrule\">Cuando</span> se realiza la búsqueda de usuarios</pre>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> el servicio REST <span class=\"token string\">'/users'</span>\n  <span class=\"token atrule\">Y</span> un usuario identificado por <span class=\"token string\">'123'</span>\n  <span class=\"token atrule\">Cuando</span> se consulta el usuario</pre>\n<hr>\n<h3 id=\"realizar-llamada-delete\"><a href=\"#realizar-llamada-delete\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Realizar llamada DELETE</h3>\n<pre class=\"language-text\">se elimina(n) *</pre>\n<p>Envía una petición <code class=\"language-text\">DELETE</code> al servicio y recurso REST definido previamente.</p>\n<h5 id=\"ejemplos-15\"><a href=\"#ejemplos-15\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> el servicio REST <span class=\"token string\">'/users'</span>\n  <span class=\"token atrule\">Y</span> un usuario identificado por <span class=\"token string\">'123'</span>\n  <span class=\"token atrule\">Cuando</span> se elimina el usuario</pre>\n<hr>\n<h3 id=\"realizar-llamada-put-con-mensaje\"><a href=\"#realizar-llamada-put-con-mensaje\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Realizar llamada PUT con mensaje</h3>\n<pre class=\"language-text\">se reemplaza(n) * con los siguientes datos:</pre>\n<p>Envía una petición <code class=\"language-text\">PUT</code> al servicio y recurso REST definido previamente. El cuerpo de la petición será el contenido\nindicado a continuación.</p>\n<h5 id=\"parámetros-16\"><a href=\"#par%C3%A1metros-16\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td><code class=\"language-text\">document</code></td>\n<td>El cuerpo de la petición</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-16\"><a href=\"#ejemplos-16\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> el servicio REST <span class=\"token string\">'/users'</span>\n  <span class=\"token atrule\">Y</span> un usuario identificado por <span class=\"token string\">'123'</span>\n  <span class=\"token atrule\">Cuando</span> se reemplaza el usuario con los siguientes datos:\n    <span class=\"token pystring string\">\"\"\"json\n    {\n        \"firstName\": \"John\",\n        \"lastName\": \"Doe\",\n        \"birthDate\": \"1980-02-20\",\n        \"address\": \"221B, Baker Street\"\n    }\n    \"\"\"</span></pre>\n<hr>\n<h3 id=\"realizar-llamada-put-con-mensaje-fichero\"><a href=\"#realizar-llamada-put-con-mensaje-fichero\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Realizar llamada PUT con mensaje (fichero)</h3>\n<pre class=\"language-text\">se reemplaza(n) * con los datos del fichero {file}</pre>\n<p>Envía una petición <code class=\"language-text\">PUT</code> al servicio y recurso REST definido previamente. El cuerpo de la petición será el contenido del\nfichero indicado.</p>\n<h5 id=\"parámetros-17\"><a href=\"#par%C3%A1metros-17\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">file</code></td>\n<td><code class=\"language-text\">file</code></td>\n<td>Fichero con el cuerpo de la petición</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-17\"><a href=\"#ejemplos-17\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> el servicio REST <span class=\"token string\">'/users'</span>\n  <span class=\"token atrule\">Y</span> un usuario identificado por <span class=\"token string\">'123'</span>\n  <span class=\"token atrule\">Cuando</span> se reemplaza el usuario con los datos del fichero <span class=\"token string\">'data/user123.json'</span></pre>\n<hr>\n<h3 id=\"realizar-llamada-patch\"><a href=\"#realizar-llamada-patch\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Realizar llamada PATCH</h3>\n<pre class=\"language-text\">se modifica(n) * </pre>\n<p>Envía una petición <code class=\"language-text\">PATCH</code> al servicio y recurso REST definido previamente. </p>\n<h5 id=\"ejemplos-18\"><a href=\"#ejemplos-18\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> el servicio REST <span class=\"token string\">'/users'</span>\n  <span class=\"token atrule\">Y</span> un usuario identificado por <span class=\"token string\">'123'</span>\n  <span class=\"token atrule\">Y</span> los siguientes parámetros de búsqueda:<span class=\"token table-head\">\n    <span class=\"token punctuation\">|</span><span class=\"token th variable\"> name </span><span class=\"token punctuation\">|</span><span class=\"token th variable\"> value    </span><span class=\"token punctuation\">|</span></span><span class=\"token table-body\">\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> age  </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> 13       </span><span class=\"token punctuation\">|</span>\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> city </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> Valencia </span><span class=\"token punctuation\">|</span></span>\n  <span class=\"token atrule\">Cuando</span> se modifica el usuario</pre>\n<hr>\n<h3 id=\"realizar-llamada-patch-con-mensaje\"><a href=\"#realizar-llamada-patch-con-mensaje\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Realizar llamada PATCH con mensaje</h3>\n<pre class=\"language-text\">se modifica(n) * con los siguientes datos:</pre>\n<p>Envía una petición <code class=\"language-text\">PATCH</code> al servicio y recurso REST definido previamente. El cuerpo de la petición será el contenido\nindicado a continuación.</p>\n<h5 id=\"parámetros-18\"><a href=\"#par%C3%A1metros-18\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td><code class=\"language-text\">document</code></td>\n<td>El cuerpo de la petición</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-19\"><a href=\"#ejemplos-19\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> el servicio REST <span class=\"token string\">'/users'</span>\n  <span class=\"token atrule\">Y</span> un usuario identificado por <span class=\"token string\">'123'</span>\n  <span class=\"token atrule\">Cuando</span> se modifica el usuario con los siguientes datos:\n    <span class=\"token pystring string\">\"\"\"json\n    {\n        \"firstName\": \"Jim\"\n    }\n    \"\"\"</span></pre>\n<hr>\n<h3 id=\"realizar-llamada-patch-con-mensaje-fichero\"><a href=\"#realizar-llamada-patch-con-mensaje-fichero\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Realizar llamada PATCH con mensaje (fichero)</h3>\n<pre class=\"language-text\">se modifica(n) * con los datos del fichero {file}</pre>\n<p>Envía una petición <code class=\"language-text\">PATCH</code> al servicio y recurso REST definido previamente. El cuerpo de la petición será el contenido\ndel fichero indicado.</p>\n<h5 id=\"parámetros-19\"><a href=\"#par%C3%A1metros-19\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">file</code></td>\n<td><code class=\"language-text\">file</code></td>\n<td>Fichero con el cuerpo de la petición</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-20\"><a href=\"#ejemplos-20\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> el servicio REST <span class=\"token string\">'/users'</span>\n  <span class=\"token atrule\">Y</span> un usuario identificado por <span class=\"token string\">'123'</span>\n  <span class=\"token atrule\">Cuando</span> se modifica el usuario con los datos del fichero <span class=\"token string\">'data/user123.json'</span></pre>\n<hr>\n<h3 id=\"realizar-llamada-post\"><a href=\"#realizar-llamada-post\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Realizar llamada POST</h3>\n<pre class=\"language-text\">se crea(n) *</pre>\n<pre class=\"language-text\">se envía al servicio la información</pre>\n<p>Envía una petición <code class=\"language-text\">POST</code> al servicio definido previamente.</p>\n<h5 id=\"ejemplo-2\"><a href=\"#ejemplo-2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplo:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Dado</span> el servicio REST <span class=\"token string\">'/users'</span>\n  <span class=\"token atrule\">Dados</span> los siguiente parámetros de solicitud:<span class=\"token table-head\">\n    <span class=\"token punctuation\">|</span><span class=\"token th variable\"> nombre </span><span class=\"token punctuation\">|</span><span class=\"token th variable\"> valor    </span><span class=\"token punctuation\">|</span></span><span class=\"token table-body\">\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> age    </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> 13       </span><span class=\"token punctuation\">|</span>\n    <span class=\"token punctuation\">|</span><span class=\"token td string\"> city   </span><span class=\"token punctuation\">|</span><span class=\"token td string\"> Valencia </span><span class=\"token punctuation\">|</span></span>\n  <span class=\"token atrule\">Cuando</span> envía al servicio la información</pre>\n<hr>\n<h3 id=\"realizar-llamada-post-con-mensaje\"><a href=\"#realizar-llamada-post-con-mensaje\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Realizar llamada POST con mensaje</h3>\n<pre class=\"language-text\">se crea(n) * con los siguientes datos:</pre>\n<pre class=\"language-text\">se envía al servicio los siguientes datos:</pre>\n<p>Envía una petición <code class=\"language-text\">POST</code> al servicio definido previamente. El cuerpo de la petición se rellenará con el contenido\nindicado a continuación.</p>\n<h5 id=\"parámetros-20\"><a href=\"#par%C3%A1metros-20\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td><code class=\"language-text\">document</code></td>\n<td>El cuerpo de la petición</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-21\"><a href=\"#ejemplos-21\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Cuando</span> se crea un usuario con los siguientes datos:\n    <span class=\"token pystring string\">\"\"\"json\n    {\n        \"firstName\": \"John\",\n        \"lastName\": \"Doe\",\n        \"birthDate\": \"1980-02-20\",\n        \"address\": \"221B, Baker Street\"\n    }\n    \"\"\"</span></pre>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Cuando</span> se envía al servicio los siguientes datos:\n    <span class=\"token pystring string\">\"\"\"json\n    {\n        \"date\": \"2021-10-30\"\n    }\n    \"\"\"</span></pre>\n<hr>\n<h3 id=\"realizar-llamada-post-con-mensaje-fichero\"><a href=\"#realizar-llamada-post-con-mensaje-fichero\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Realizar llamada POST con mensaje (fichero)</h3>\n<pre class=\"language-text\">se crea(n) * con los datos del fichero {file}</pre>\n<pre class=\"language-text\">se envía al servicio los datos del fichero {file}</pre>\n<p>Envía una petición <code class=\"language-text\">POST</code> al servicio definido previamente. El cuerpo de la petición se rellenará con el contenido del\nfichero indicado.</p>\n<h5 id=\"parámetros-21\"><a href=\"#par%C3%A1metros-21\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">file</code></td>\n<td><code class=\"language-text\">file</code></td>\n<td>Fichero con el cuerpo de la petición</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-22\"><a href=\"#ejemplos-22\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Cuando</span> se crea un usuario con los datos del fichero <span class=\"token string\">'data/user123.json'</span></pre>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Cuando</span> se envía al servicio los datos del fichero <span class=\"token string\">'booking.json'</span></pre>\n<hr>\n<h3 id=\"comprobar-código-http-de-respuesta\"><a href=\"#comprobar-c%C3%B3digo-http-de-respuesta\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar código HTTP de respuesta</h3>\n<pre class=\"language-text\">el código de respuesta HTTP {matcher}</pre>\n<p>Comprueba que el código HTTP de la última respuesta satisface una validación de enteros.</p>\n<h5 id=\"parámetros-22\"><a href=\"#par%C3%A1metros-22\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">matcher</code></td>\n<td><code class=\"language-text\">integer-assertion</code></td>\n<td>Una validación de enteros</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-23\"><a href=\"#ejemplos-23\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el código de respuesta HTTP es 201</pre>\n<hr>\n<h3 id=\"comprobar-mensaje-de-respuesta\"><a href=\"#comprobar-mensaje-de-respuesta\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar mensaje de respuesta</h3>\n<pre class=\"language-text\">la respuesta es exactamente:</pre>\n<p>Valida que el cuerpo de la respuesta sea exacto al indicado, incluyendo el orden de los campos.</p>\n<pre class=\"language-text\">la respuesta es exactamente \\(en cualquier orden\\):</pre>\n<p>Valida que el cuerpo de la respuesta sea exacto al indicado, pero pueden llegar los campos en diferente orden.</p>\n<pre class=\"language-text\">la respuesta es parcialmente:</pre>\n<p>Valida que el cuerpo de la respuesta incluya, al menos, los campos indicados.</p>\n<h5 id=\"parámetros-23\"><a href=\"#par%C3%A1metros-23\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td><code class=\"language-text\">document</code></td>\n<td>El contenido esperado</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-24\"><a href=\"#ejemplos-24\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> la respuesta es exactamente:\n    <span class=\"token pystring string\">\"\"\"json\n    {\n        \"age\": 23,\n        \"name\": \"John\"\n    }\n    \"\"\"</span></pre>\n<hr>\n<h3 id=\"comprobar-mensaje-de-respuesta-fichero\"><a href=\"#comprobar-mensaje-de-respuesta-fichero\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar mensaje de respuesta (fichero)</h3>\n<pre class=\"language-text\">la respuesta es exactamente el contenido del fichero {file}</pre>\n<p>Valida que el cuerpo de la respuesta sea exacto al indicado en el fichero, incluyendo el orden de los campos.</p>\n<pre class=\"language-text\">la respuesta es exactamente el contenido del fichero {file} \\(en cualquier orden\\)</pre>\n<p>Valida que el cuerpo de la respuesta sea exacto al indicado en el fichero, pero pueden llegar los campos en diferente orden.</p>\n<pre class=\"language-text\">la respuesta es parcialmente el contenido del fichero {file}</pre>\n<p>Valida que el cuerpo de la respuesta incluya, al menos, los campos indicados en el fichero.</p>\n<h5 id=\"parámetros-24\"><a href=\"#par%C3%A1metros-24\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">file</code></td>\n<td><code class=\"language-text\">file</code></td>\n<td>Un fichero existente</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-25\"><a href=\"#ejemplos-25\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> la respuesta es parcialmente el contenido del fichero <span class=\"token string\">'data/response1.json'</span></pre>\n<hr>\n<h3 id=\"comprobar-fragmento-de-la-respuesta\"><a href=\"#comprobar-fragmento-de-la-respuesta\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar fragmento de la respuesta</h3>\n<pre class=\"language-text\">el (texto|entero|decimal) del fragmento de la respuesta {fragment} {matcher}</pre>\n<p>Valida el valor (<em>texto</em>, <em>entero</em> o <em>decimal</em>) de un fragmento del cuerpo de respuesta, localizado mediante una ruta dada\n(usando <a href=\"https://goessner.net/articles/JsonPath/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JSONPath</a> o <a href=\"https://en.wikipedia.org/wiki/XPath\" title=\"XPath\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">XPath</a> dependiendo del tipo de contenido).</p>\n<h5 id=\"parámetros-25\"><a href=\"#par%C3%A1metros-25\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">fragment</code></td>\n<td><code class=\"language-text\">text</code></td>\n<td>Una ruta JSONPath or XPath</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">matcher</code></td>\n<td><code class=\"language-text\">*-assertion</code></td>\n<td>El comparador del fragmento</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">*</code>: <code class=\"language-text\">text</code>, <code class=\"language-text\">integer</code> o <code class=\"language-text\">decimal</code>, dependiendo del tipo indicado en el paso.</p>\n<h5 id=\"ejemplos-26\"><a href=\"#ejemplos-26\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el decimal del fragmento de la respuesta 'users[1].account.availableMoney` es mayor que 23.57</pre>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el texto del fragmento de la respuesta <span class=\"token string\">'users[1].name` no es '</span>John'</pre>\n<hr>\n<h3 id=\"comprobar-tipo-de-contenido-de-la-respuesta\"><a href=\"#comprobar-tipo-de-contenido-de-la-respuesta\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar tipo de contenido de la respuesta</h3>\n<pre class=\"language-text\">el tipo de contenido de la respuesta es {word}</pre>\n<p>Valida que el tipo de contenido de la última respuesta es el esperado.\nEste paso equivale a validar que el valor de la cabecera <code class=\"language-text\">Content-Type</code> de la respuesta es el tipo MIME correspondiente.</p>\n<h5 id=\"parámetros-26\"><a href=\"#par%C3%A1metros-26\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">word</code></td>\n<td><code class=\"language-text\">word</code></td>\n<td><code class=\"language-text\">ANY</code>,<code class=\"language-text\">TEXT</code>,<code class=\"language-text\">JSON</code>,<code class=\"language-text\">XML</code>,<code class=\"language-text\">HTML</code>,<code class=\"language-text\">URLENC</code>,<code class=\"language-text\">BINARY</code></td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-27\"><a href=\"#ejemplos-27\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el tipo de contenido de la respuesta es JSON</pre>\n<hr>\n<h3 id=\"comprobar-tamaño-de-la-respuesta\"><a href=\"#comprobar-tama%C3%B1o-de-la-respuesta\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar tamaño de la respuesta</h3>\n<pre class=\"language-text\">el tamaño de la respuesta {matcher}</pre>\n<p>Comprueba que la longitud en bytes de la última respuesta satisface una validación.</p>\n<h5 id=\"parámetros-27\"><a href=\"#par%C3%A1metros-27\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">matcher</code></td>\n<td><code class=\"language-text\">integer-assertion</code></td>\n<td>Una validación de enteros</td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"ejemplos-28\"><a href=\"#ejemplos-28\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el tamaño de la respuesta es menor que 500</pre>\n<hr>\n<h3 id=\"comprobar-cabecera\"><a href=\"#comprobar-cabecera\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comprobar cabecera</h3>\n<pre class=\"language-text\">el (texto|entero|decimal) de la cabecera de la respuesta {name} {matcher}</pre>\n<p>Comprueba que una determinada cabecera HTTP en la última respuesta satisface una validación de <em>texto</em>, <em>entero</em> o\n<em>decimal</em>.</p>\n<h5 id=\"parámetros-28\"><a href=\"#par%C3%A1metros-28\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Parámetros:</h5>\n<table>\n<thead>\n<tr>\n<th>Nombre</th>\n<th>Wakamiti type</th>\n<th>Descripción</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">name</code></td>\n<td><code class=\"language-text\">text</code></td>\n<td>Nombre de la cabecera</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">matcher</code></td>\n<td><code class=\"language-text\">*-assertion</code></td>\n<td><a href=\"/wakamiti//kukumo/architecture#comparadores\">Comparador</a> de texto o numérico</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">*</code>: <code class=\"language-text\">text</code>, <code class=\"language-text\">integer</code> o <code class=\"language-text\">decimal</code>, dependiendo del tipo indicado en el paso.</p>\n<h5 id=\"ejemplos-29\"><a href=\"#ejemplos-29\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ejemplos:</h5>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el texto de la cabecera de la respuesta Content-Encoding contiene <span class=\"token string\">'gzip'</span></pre>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Entonces</span> el entero de la cabecera de la respuesta Age es mayor que 10</pre>\n"}},"context":{"id":"9d9577aa33d5a46f6ded2f475e538849","path":"/plugins/rest/","locale":"es"}}