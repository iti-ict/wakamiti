{"hash":"96f62a20562d83282173efa55646b0d88ee6865e","data":{"doc":{"title":"Appium","path":"/en/plugins/appium/","date":"9. June 2023","content":"<p>This plugin allows Wakamiti to write scenarios that interact with an\n<a href=\"http://appium.io/docs/en/2.0/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Appium</a> server. Appium is an open-source project\ndesigned to facilitate UI automation of many app platforms, including mobile apps.</p>\n<p>The usage of this plugin requires that an Appium server is up and running, as well as an\nemulated virtual device. Below, there is an example of how to set up a testing environment\nfor this.</p>\n<blockquote>\n<p><strong>DISCLAIMER</strong></p>\n<p>In its current state, this plugin is mostly a proof of concept rather than a fully\nfunctional plugin, and the provided steps and configuration may vary in future\nversions.</p>\n</blockquote>\n<h2 id=\"configuration\"><a href=\"#configuration\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Configuration</h2>\n<blockquote>\n<p>You can specify any capability to be passed to the Web Driver using the proper property key in\nthe form <code class=\"language-text\">appium.capabilities.xxxxxx</code>. In this document, the most relevant options are described,\nbut for an exhaustive list of the available properties, please check the\n<a href=\"https://w3c.github.io/webdriver/#capabilities\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">W3C WebDriver draft</a>.</p>\n</blockquote>\n<hr>\n<h3 id=\"appiumurl\"><a href=\"#appiumurl\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">appium.url</code></h3>\n<p>The URL of the Appium server</p>\n<p>Example:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">appium</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> http<span class=\"token punctuation\">:</span>//127.0.0.1<span class=\"token punctuation\">:</span>4723/wd/hub</pre>\n<hr>\n<h3 id=\"appiumcapabilitiesapp\"><a href=\"#appiumcapabilitiesapp\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">appium.capabilities.app</code></h3>\n<p>The full path of the packaged app to test</p>\n<p>Example:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">appium</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">capabilities</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">app</span><span class=\"token punctuation\">:</span> ApiDemos<span class=\"token punctuation\">-</span>debug.apk</pre>\n<hr>\n<h3 id=\"appiumcapabilitiesplatformname\"><a href=\"#appiumcapabilitiesplatformname\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">appium.capabilities.platformName</code></h3>\n<p>The mobile platform that would be tested </p>\n<p>Example:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">appium</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">capabilities</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">platformName</span><span class=\"token punctuation\">:</span> Android</pre>\n<hr>\n<h3 id=\"appiumcapabilitiesplatformversion\"><a href=\"#appiumcapabilitiesplatformversion\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">appium.capabilities.platformVersion</code></h3>\n<p>The version of the platform that would be tested</p>\n<p>Example:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">appium</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">capabilities</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">platformVersion</span><span class=\"token punctuation\">:</span> <span class=\"token number\">11</span></pre>\n<hr>\n<h3 id=\"appiumcapabilitiesapppackage\"><a href=\"#appiumcapabilitiesapppackage\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">appium.capabilities.appPackage</code></h3>\n<p>The name of the package that contains the application to be tested</p>\n<p>Example:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">appium</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">capabilities</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">appPackage</span><span class=\"token punctuation\">:</span> io.appium.android.apis</pre>\n<hr>\n<h3 id=\"appiumcapabilitiesappactivity\"><a href=\"#appiumcapabilitiesappactivity\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">appium.capabilities.appActivity</code></h3>\n<p>The name of the activity to be tested</p>\n<p>Example:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">appium</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">capabilities</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">appActivity</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'.view.TextFields'</span></pre>\n<h2 id=\"steps\"><a href=\"#steps\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Steps</h2>\n<hr>\n<h3 id=\"select-a-ui-element-by-its-id\"><a href=\"#select-a-ui-element-by-its-id\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Select a UI element by its ID</h3>\n<pre class=\"language-text\">the UI element with ID {text}</pre>\n<p>Select an element that would be the subject of the following steps.</p>\n<h4 id=\"examples\"><a href=\"#examples\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Given</span> the UI element with ID <span class=\"token string\">'3423423'</span></pre>\n<hr>\n<h3 id=\"select-a-ui-element-by-its-type\"><a href=\"#select-a-ui-element-by-its-type\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Select a UI element by its type</h3>\n<pre class=\"language-text\">the UI element with type {text}</pre>\n<p>Select an element that would be the subject of the following steps.</p>\n<h4 id=\"examples-1\"><a href=\"#examples-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Given</span> the UI element with type <span class=\"token string\">'android.widget.EditText'</span></pre>\n<hr>\n<h3 id=\"select-a-ui-element-by-its-path\"><a href=\"#select-a-ui-element-by-its-path\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Select a UI element by its path</h3>\n<pre class=\"language-text\">the UI element with path {text}</pre>\n<p>Select an element that would be the subject of the following steps.</p>\n<h4 id=\"examples-2\"><a href=\"#examples-2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Given</span> the UI element with path <span class=\"token string\">'main.form.name'</span></pre>\n<hr>\n<h3 id=\"type-a-text-on-an-element\"><a href=\"#type-a-text-on-an-element\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Type a text on an element</h3>\n<pre class=\"language-text\">the text {text} is typed on that element</pre>\n<p>Emulate the action of typing a text when an element is selected</p>\n<h4 id=\"examples-3\"><a href=\"#examples-3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">When</span> the text <span class=\"token string\">'John'</span> is typed on that element</pre>\n<hr>\n<h3 id=\"tap-on-an-element\"><a href=\"#tap-on-an-element\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tap on an element</h3>\n<pre class=\"language-text\">a tap is done over that element</pre>\n<p>Emulate the action of tapping on the selected element</p>\n<h4 id=\"examples-4\"><a href=\"#examples-4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">When</span> <span class=\"token atrule\">a</span> tap is done over that element</pre>\n<hr>\n<h3 id=\"double-tap-on-an-element\"><a href=\"#double-tap-on-an-element\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Double-tap on an element</h3>\n<pre class=\"language-text\">a double-tap is done over that element</pre>\n<p>Emulate the action of double-tapping on the selected element</p>\n<h4 id=\"examples-5\"><a href=\"#examples-5\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">When</span> <span class=\"token atrule\">a</span> double-tap is done over that element</pre>\n<hr>\n<h3 id=\"validate-the-text-of-an-element\"><a href=\"#validate-the-text-of-an-element\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Validate the text of an element</h3>\n<pre class=\"language-text\">that element contains the value {text}</pre>\n<p>Assert that the previously selected element contains a certain text</p>\n<h4 id=\"examples-6\"><a href=\"#examples-6\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Then</span> that element contains the value <span class=\"token string\">'Accepted'</span></pre>\n<hr>\n<h3 id=\"validate-an-element-is-enabled\"><a href=\"#validate-an-element-is-enabled\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Validate an element is enabled</h3>\n<pre class=\"language-text\">that element is enabled</pre>\n<p>Assert that the previously selected element is currently enabled</p>\n<h4 id=\"examples-7\"><a href=\"#examples-7\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Then</span> that element is enabled</pre>\n<hr>\n<h3 id=\"validate-an-element-is-disabled\"><a href=\"#validate-an-element-is-disabled\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Validate an element is disabled</h3>\n<pre class=\"language-text\">that element is disabled</pre>\n<p>Assert that the previously selected element is currently disabled</p>\n<h4 id=\"examples-8\"><a href=\"#examples-8\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Then</span> that element is disabled</pre>\n<hr>\n<h3 id=\"validate-an-element-is-displayed\"><a href=\"#validate-an-element-is-displayed\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Validate an element is displayed</h3>\n<pre class=\"language-text\">that element is displayed</pre>\n<p>Assert that the previously selected element is displayed on screen</p>\n<h4 id=\"examples-9\"><a href=\"#examples-9\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Then</span> that element is displayed</pre>\n<hr>\n<h3 id=\"validate-an-element-is-not-displayed\"><a href=\"#validate-an-element-is-not-displayed\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Validate an element is not displayed</h3>\n<pre class=\"language-text\">that element is not displayed</pre>\n<p>Assert that the previously selected element is not displayed on screen</p>\n<h4 id=\"examples-10\"><a href=\"#examples-10\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">Then</span> that element is not displayed</pre>\n<hr>\n<h3 id=\"emulate-an-incoming-call\"><a href=\"#emulate-an-incoming-call\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Emulate an incoming call</h3>\n<pre class=\"language-text\">an incoming call with number {text} is received</pre>\n<p>Emulate an incoming call from a specific phone number. Only available if the tested application\nruns on a emulated device.</p>\n<h4 id=\"examples-11\"><a href=\"#examples-11\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">When</span> <span class=\"token atrule\">an</span> incoming call with number <span class=\"token string\">'555-4324-432'</span> is received</pre>\n<hr>\n<h3 id=\"accepts-an-incoming-call\"><a href=\"#accepts-an-incoming-call\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Accepts an incoming call</h3>\n<pre class=\"language-text\">the incoming call is accepted</pre>\n<p>Accepts the current incoming call. </p>\n<h4 id=\"examples-12\"><a href=\"#examples-12\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">When</span> the incoming call is accepted</pre>\n<hr>\n<h3 id=\"rejects-an-incoming-call\"><a href=\"#rejects-an-incoming-call\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Rejects an incoming call</h3>\n<pre class=\"language-text\">the incoming call is rejected</pre>\n<p>Rejects the current incoming call.</p>\n<h4 id=\"examples-13\"><a href=\"#examples-13\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">When</span> the incoming call is rejected</pre>\n<hr>\n<h3 id=\"ends-the-current-call\"><a href=\"#ends-the-current-call\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ends the current call</h3>\n<pre class=\"language-text\">the call is ended</pre>\n<p>Ends (hangs up) the current call</p>\n<h4 id=\"examples-14\"><a href=\"#examples-14\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Examples:</h4>\n<pre class=\"language-gherkin\">  <span class=\"token atrule\">When</span> the call is ended</pre>\n<h2 id=\"setting-up-a-test-environment\"><a href=\"#setting-up-a-test-environment\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Setting up a test environment</h2>\n<ol>\n<li>Install Android SDK</li>\n</ol>\n<pre class=\"language-text\">  sudo apt install android-sdk</pre>\n<ol start=\"2\">\n<li>Add the environment variable ANDROID_HOME</li>\n</ol>\n<pre class=\"language-text\">  (p.ej. $HOME/Android/Sdk )</pre>\n<ol start=\"3\">\n<li>Install cmdline-tools</li>\n</ol>\n<p><img src=\"/wakamiti//android-sdk.png\"></p>\n<ol start=\"5\">\n<li>Install Appium and Appium-doctor</li>\n</ol>\n<pre class=\"language-text\">   npm install -g appium\n   npm install @appium/doctor --location=global</pre>\n<ol start=\"4\">\n<li>Check the installation</li>\n</ol>\n<pre class=\"language-text\">appium-doctor --android</pre>\n<p>All should be OK, otherwise check the red messages</p>\n<ol start=\"5\">\n<li>Start the Appium server</li>\n</ol>\n<pre class=\"language-text\">appium</pre>\n<p>Default port is 4723</p>\n<p>Download a demo APK from:\n<a href=\"https://github.com/appium/appium/raw/1.x/sample-code/apps/ApiDemos-debug.apk\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/appium/appium/raw/1.x/sample-code/apps/ApiDemos-debug.apk</a></p>\n<ol start=\"6\">\n<li>Create an Android Virtual Device</li>\n</ol>\n<pre class=\"language-text\">$ANDROID_HOME/cmdline-tools/latest/bin/avdmanager create avd --force --name Nexus6P --abi google_apis_playstore/x86 --package &#39;system-images;android-30;google_apis_playstore;x86&#39; --device &quot;Nexus 6P&quot;```</pre>\n<ol start=\"7\">\n<li>Start the emulator</li>\n</ol>\n<pre class=\"language-text\">$ANDROID_HOME/emulator/emulator -avd Nexus6P</pre>\n<p>In case the emulator fails due to a previous emulation process in a zombie state, it can be\ncleared using</p>\n<pre class=\"language-text\">$ANDROID_HOME/platform-tools/adb kill-server</pre>\n"}},"context":{"id":"1a9ba2f5312691a4e658e0bd0f9e56e3","path":"/en/plugins/appium/","locale":"en"}}