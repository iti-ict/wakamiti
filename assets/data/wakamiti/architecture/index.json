{"hash":"7c08063608dd0265cfac53d9b0d152479bb4bda9","data":{"doc":{"title":"Arquitectura","path":"/wakamiti/architecture/","date":"20. September 2022","content":"<ul>\n<li><a href=\"#configuracin-global\">Configuración global</a></li>\n<li><a href=\"#configuracin-de-features\">Configuración de features</a></li>\n<li><a href=\"#tipos-de-datos\">Tipos de datos</a></li>\n<li><a href=\"#comparadores\">Comparadores</a></li>\n<li><a href=\"#propiedades-dinmicas\">Propiedades dinámicas</a></li>\n</ul>\n<hr>\n<h2 id=\"configuración-global\"><a href=\"#configuraci%C3%B3n-global\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Configuración global</h2>\n<p>La configuración de Wakamiti se establece mediante un fichero <code class=\"language-text\">yaml</code> ubicado en el directorio de pruebas. Por defecto,\nWakamiti buscará el fichero con el nombre <code class=\"language-text\">wakamiti.yaml</code>.</p>\n<ul>\n<li><a href=\"#wakamitiresourcetypes\"><code class=\"language-text\">wakamiti.resourceTypes</code></a></li>\n<li><a href=\"#wakamitiresourcepath\"><code class=\"language-text\">wakamiti.resourcePath</code></a></li>\n<li><a href=\"#wakamitioutputfilepath\"><code class=\"language-text\">wakamiti.outputFilePath</code></a></li>\n<li><a href=\"#wakamitioutputfilepertestcase\"><code class=\"language-text\">wakamiti.outputFilePerTestCase</code></a></li>\n<li><a href=\"#wakamititagfilter\"><code class=\"language-text\">wakamiti.tagFilter</code></a></li>\n<li><a href=\"#wakamitiidtagpattern\"><code class=\"language-text\">wakamiti.idTagPattern</code></a></li>\n<li><a href=\"#wakamitistricttestcaseid\"><code class=\"language-text\">wakamiti.strictTestCaseID</code></a></li>\n<li><a href=\"#wakamitilaunchermodules\"><code class=\"language-text\">wakamiti.launcher.modules</code></a></li>\n<li><a href=\"#wakamitireportgeneration\"><code class=\"language-text\">wakamiti.report.generation</code></a></li>\n<li><a href=\"#wakamitiredefinitiondefinitiontag\"><code class=\"language-text\">wakamiti.redefinition.definitionTag</code></a></li>\n<li><a href=\"#wakamitiredefinitionimplementationtag\"><code class=\"language-text\">wakamiti.redefinition.implementationTag</code></a></li>\n<li><a href=\"#wakamitilogpath\"><code class=\"language-text\">wakamiti.log.path</code></a></li>\n<li><a href=\"#wakamitiloglevel\"><code class=\"language-text\">wakamiti.log.level</code></a></li>\n<li><a href=\"#wakamitilogsansienabled\"><code class=\"language-text\">wakamiti.logs.ansi.enabled</code></a></li>\n<li><a href=\"#wakamitilogsshowlogo\"><code class=\"language-text\">wakamiti.logs.showLogo</code></a></li>\n<li><a href=\"#wakamitilogsshowelapsedtime\"><code class=\"language-text\">wakamiti.logs.showElapsedTime</code></a></li>\n<li><a href=\"#wakamitijunittreatstepsastests\"><code class=\"language-text\">wakamiti.junit.treatStepsAsTests</code></a></li>\n<li><a href=\"#wakamitinonregisteredstepproviders\"><code class=\"language-text\">wakamiti.nonRegisteredStepProviders</code></a></li>\n<li><a href=\"#mavenfetcherremoterepositories\"><code class=\"language-text\">mavenFetcher.remoteRepositories</code></a></li>\n<li><a href=\"#mavenfetcherlocalrepository\"><code class=\"language-text\">mavenFetcher.localRepository</code></a></li>\n</ul>\n<hr>\n<h3 id=\"wakamitiresourcetypes\"><a href=\"#wakamitiresourcetypes\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.resourceTypes</code></h3>\n<p>Establece el lenguaje de los escenarios de prueba. Actualmente solo está disponible <code class=\"language-text\">gherkin</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">resourceTypes</span><span class=\"token punctuation\">:</span> gherkin</pre>\n<h3 id=\"wakamitiresourcepath\"><a href=\"#wakamitiresourcepath\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.resourcePath</code></h3>\n<p>Establece la ruta donde se encuentran los ficheros de las pruebas.</p>\n<p>El valor por defecto es <code class=\"language-text\">.</code> (ruta donde se encuentra el fichero de configuración).</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">resourcePath</span><span class=\"token punctuation\">:</span> /other/path</pre>\n<hr>\n<h3 id=\"wakamitioutputfilepath\"><a href=\"#wakamitioutputfilepath\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.outputFilePath</code></h3>\n<p>Establece el directorio de salida del fichero con el resultado de las pruebas.</p>\n<p>La ruta puede contener las siguientes variables de sustitución (<strong>desde</strong> 1.7.0):</p>\n<table>\n<thead>\n<tr>\n<th>variable</th>\n<th>sustitución</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class=\"language-text\">%YYYY%</code></td>\n<td>año (4 dígitos)</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">%YY%</code></td>\n<td>año (2 dígitos)</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">%MM%</code></td>\n<td>mes</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">%DD%</code></td>\n<td>día de mes</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">%hh%</code></td>\n<td>hora (formato 24H)</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">%mm%</code></td>\n<td>minutos</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">%ss%</code></td>\n<td>segundos</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">%sss%</code></td>\n<td>milisegundos (3 dígitos)</td>\n</tr>\n<tr>\n<td><code class=\"language-text\">%DATE%</code></td>\n<td><code class=\"language-text\">%YYYY%%MM%%DD%</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">%TIME%</code></td>\n<td><code class=\"language-text\">%hh%%mm%%ss%%ssss%</code></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">%execID%</code></td>\n<td>ID único de ejecucicón</td>\n</tr>\n</tbody>\n</table>\n<p>El valor por defecto es <code class=\"language-text\">wakamiti.json</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">outputFilePath</span><span class=\"token punctuation\">:</span> result/wakamiti.json</pre>\n<hr>\n<h3 id=\"wakamitioutputfilepertestcase\"><a href=\"#wakamitioutputfilepertestcase\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.outputFilePerTestCase</code></h3>\n<p>Establece si se debe generar un fichero de salida por cada caso de test. En caso de activarse, el\nvalor de <code class=\"language-text\">wakamiti.outputFilePath</code> será el directorio destini, y el nombre del fichero será el\npropio ID del caso de test.</p>\n<p>El valor por defecto es <code class=\"language-text\">false</code></p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">outputFilePerTestCase</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre>\n<p><strong>Desde</strong> 1.7.0</p>\n<hr>\n<h3 id=\"wakamititagfilter\"><a href=\"#wakamititagfilter\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.tagFilter</code></h3>\n<p>Filtra los escenarios etiquetados con la <a href=\"https://cucumber.io/docs/cucumber/api/#tag-expressions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">expresión</a> indicada. </p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">tagFilter</span><span class=\"token punctuation\">:</span> not Ignore</pre>\n<hr>\n<h3 id=\"wakamitiidtagpattern\"><a href=\"#wakamitiidtagpattern\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.idTagPattern</code></h3>\n<p>Establece el patrón de identificadores de los escenarios. Debe contener una expresión regular válida.</p>\n<p>El valor por defecto es <code class=\"language-text\">ID-(\\w*)</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">idTagPattern</span><span class=\"token punctuation\">:</span> (<span class=\"token punctuation\">[</span>0<span class=\"token punctuation\">-</span><span class=\"token number\">9</span><span class=\"token punctuation\">]</span>+)</pre>\n<hr>\n<h3 id=\"wakamitistricttestcaseid\"><a href=\"#wakamitistricttestcaseid\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.strictTestCaseID</code></h3>\n<p>Establece si se debe asegurar que cada caso de test esté debidamente etiquetado con un valor\nque cumpla con el patrón de <code class=\"language-text\">idTagPattern</code>. En caso de activarse y que no se cumpla dicha\ncondición, la ejecución se detendrá con un error informando de ello.</p>\n<p>El valor por defecto es <code class=\"language-text\">false</code></p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">strictTestCaseID</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre>\n<p><strong>Desde</strong> 1.7.0</p>\n<hr>\n<h3 id=\"wakamitilaunchermodules\"><a href=\"#wakamitilaunchermodules\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.launcher.modules</code></h3>\n<p>Establece los módulos que serán utilizados durante las pruebas. Estos módulos son artefactos maven ubicados en un\n<a href=\"#mavenfetcher-remoterepositories\">repositorio indicado en la configuración</a>. Se debe indicar con el patrón\n<code class=\"language-text\">&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">launcher</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">modules</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> es.iti.wakamiti<span class=\"token punctuation\">:</span>wakamiti<span class=\"token punctuation\">-</span>rest<span class=\"token punctuation\">:</span>1.0.0\n      <span class=\"token punctuation\">-</span> es.iti.wakamiti<span class=\"token punctuation\">:</span>wakamiti<span class=\"token punctuation\">-</span>db<span class=\"token punctuation\">:</span>1.0.0\n      <span class=\"token punctuation\">-</span> mysql<span class=\"token punctuation\">:</span>mysql<span class=\"token punctuation\">-</span>connector<span class=\"token punctuation\">-</span>java<span class=\"token punctuation\">:</span>8.0.28</pre>\n<hr>\n<h3 id=\"wakamitireportgeneration\"><a href=\"#wakamitireportgeneration\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.report.generation</code></h3>\n<p>Indica si se generará el informe con el resultado de las pruebas al terminar la ejecución o no.</p>\n<p>El valor por defecto es <code class=\"language-text\">true</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">report</span><span class=\"token punctuation\">:</span> \n    <span class=\"token key atrule\">generation</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"false\"</span></pre>\n<hr>\n<h3 id=\"wakamitiredefinitiondefinitiontag\"><a href=\"#wakamitiredefinitiondefinitiontag\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.redefinition.definitionTag</code></h3>\n<p>Establece la etiqueta para indicar que la <strong>caracteristica</strong> es una <a href=\"/wakamiti//\">definición</a>.</p>\n<p>El valor por defecto es <code class=\"language-text\">definition</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">redefinition</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">definitionTag</span><span class=\"token punctuation\">:</span> def</pre>\n<hr>\n<h3 id=\"wakamitiredefinitionimplementationtag\"><a href=\"#wakamitiredefinitionimplementationtag\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.redefinition.implementationTag</code></h3>\n<p>Establece la etiqueta para indicar que la <strong>caracteristica</strong> es una <a href=\"/wakamiti//\">implementación</a>.</p>\n<p>El valor por defecto es <code class=\"language-text\">implementation</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">redefinition</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">implementationTag</span><span class=\"token punctuation\">:</span> impl</pre>\n<hr>\n<h3 id=\"wakamitipropertieshidden\"><a href=\"#wakamitipropertieshidden\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.properties.hidden</code></h3>\n<p>Establece las <a href=\"#propiedades-din%C3%A1micas\">propiedades</a> que permanecerán ocultas en el informe de pruebas.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">properties</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">hidden</span><span class=\"token punctuation\">:</span> \n      <span class=\"token punctuation\">-</span> token\n      <span class=\"token punctuation\">-</span> credentials.password</pre>\n<hr>\n<h3 id=\"wakamitilogpath\"><a href=\"#wakamitilogpath\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.log.path</code></h3>\n<p>Establece el directorio donde se creará un fichero de log con nombre <code class=\"language-text\">wakamiti-${yyyyMMddhhmmss}.log</code>, donde\n<code class=\"language-text\">${yyyyMMddhhmmss}</code> es el patrón de la fecha del sistema. Por defecto no se creará el log.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">log</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> results</pre>\n<hr>\n<h3 id=\"wakamitiloglevel\"><a href=\"#wakamitiloglevel\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.log.level</code></h3>\n<p>Establece el nivel de los logs de wakamiti. Dependiendo del nivel indicado se mostrará u omitirá más o menos información.\nLos posibles valores son: <code class=\"language-text\">info</code>, <code class=\"language-text\">error</code>, <code class=\"language-text\">fatal</code>, <code class=\"language-text\">warning</code>, <code class=\"language-text\">debug</code>, <code class=\"language-text\">trace</code>.\n<a href=\"https://unpocodejava.com/2011/01/17/niveles-log4j/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Leer más</a></p>\n<p>El valor por defecto es <code class=\"language-text\">info</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">log</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">level</span><span class=\"token punctuation\">:</span> debug</pre>\n<hr>\n<h3 id=\"wakamitilogsansienabled\"><a href=\"#wakamitilogsansienabled\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.logs.ansi.enabled</code></h3>\n<p>Establece si los logs por consola deben usar <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">códigos de control ANSI</a>.</p>\n<p>El valor por defecto es <code class=\"language-text\">true</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">logs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">ansi.enabled</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre>\n<hr>\n<h3 id=\"wakamitilogsshowlogo\"><a href=\"#wakamitilogsshowlogo\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.logs.showLogo</code></h3>\n<p>Establece si se debe mostrar el logo de Wakamiti en los logs por consola al inicio de la ejecución.</p>\n<p>El valor por defecto es <code class=\"language-text\">true</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">logs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">showLogo</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre>\n<hr>\n<h3 id=\"wakamitilogsshowelapsedtime\"><a href=\"#wakamitilogsshowelapsedtime\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.logs.showElapsedTime</code></h3>\n<p>Establece si se debe mostrar los tiempos transcurridos en los logs por consola.</p>\n<p>El valor por defecto es <code class=\"language-text\">true</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">logs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">showElapsedTime</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre>\n<hr>\n<h3 id=\"wakamitijunittreatstepsastests\"><a href=\"#wakamitijunittreatstepsastests\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.junit.treatStepsAsTests</code></h3>\n<p>Establece si, al usar el runner JUnit de Wakamiti, se debe notificar cada paso como test (para que\nlos informes y resultados derivados de JUnit sean más relevantes). </p>\n<p>El valor por defecto es <code class=\"language-text\">false</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">junit</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">treatStepsAsTests</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></pre>\n<hr>\n<h3 id=\"wakamitinonregisteredstepproviders\"><a href=\"#wakamitinonregisteredstepproviders\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">wakamiti.nonRegisteredStepProviders</code></h3>\n<p>Permite incluir proveedores de pasos de forma dinámica, sin de que formen parte de ningún\nplugin. De esta manera, se pueden crear pasos ad hoc para necesidades del proyecto específico\na testear.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">nonRegisteredStepProviders</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> com.example.CustomSteps</pre>\n<hr>\n<h3 id=\"mavenfetcherremoterepositories\"><a href=\"#mavenfetcherremoterepositories\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">mavenFetcher.remoteRepositories</code></h3>\n<p>Establece repositorios remotos.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">mavenFetcher</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">remoteRepositories</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//repo.maven.apache.org/maven2;file<span class=\"token punctuation\">:</span>///home/user/.m2/repository</pre>\n<hr>\n<h3 id=\"mavenfetcherlocalrepository\"><a href=\"#mavenfetcherlocalrepository\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">mavenFetcher.localRepository</code></h3>\n<p>Establece la ubicación del repositorio local.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-yaml\"><span class=\"token key atrule\">mavenFetcher</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">localRepository</span><span class=\"token punctuation\">:</span> /usr/mvn<span class=\"token punctuation\">-</span>repo</pre>\n<h2 id=\"configuración-de-features\"><a href=\"#configuraci%C3%B3n-de-features\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Configuración de features</h2>\n<p>Adicionalmente a la configuración global, se pueden incluir propiedades específicas en cada\nfichero feature</p>\n<ul>\n<li><a href=\"#language\"><code class=\"language-text\">language</code></a></li>\n<li><a href=\"#language\"><code class=\"language-text\">dataFormatLanguage</code></a></li>\n<li><a href=\"#modules\"><code class=\"language-text\">modules</code></a></li>\n<li><a href=\"#redefinitionstepmap\"><code class=\"language-text\">redefinition.stepMap</code></a></li>\n</ul>\n<hr>\n<h3 id=\"language\"><a href=\"#language\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">language</code></h3>\n<p>Establece el idioma (identificado mediante <a href=\"https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ISO 639-1</a>)\nen el que se va a escribir los escenarios del fichero.</p>\n<p>El valor por defecto es <code class=\"language-text\">en</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-gherkin\"><span class=\"token comment\"># language: es</span>\n<span class=\"token feature\"><span class=\"token keyword\">Feature:</span><span class=\"token important\"> ...</span></span></pre>\n<hr>\n<h3 id=\"dataformatlanguage\"><a href=\"#dataformatlanguage\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">dataFormatLanguage</code></h3>\n<p>Establece el idioma (identificado mediante <a href=\"https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ISO 639-1</a>)\nen el que se va a escribir los valores de los parámetros de los pasos, en los casos en los que se acepten\nformatos localizados, como el caso de fechas y números que usen separadores.</p>\n<p>El valor por defecto es el mismo valor que <code class=\"language-text\">language</code>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-gherkin\"><span class=\"token comment\"># language: es</span>\n<span class=\"token comment\"># dataFormatLanguage: en  </span>\n<span class=\"token feature\"><span class=\"token keyword\">Feature:</span><span class=\"token important\"> ...</span></span></pre>\n<hr>\n<h3 id=\"modules\"><a href=\"#modules\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">modules</code></h3>\n<p>Restringe los pasos que se van a usar en un fichero, para evitar posibles conflictos de expresiones\nentre varios plugins que no se hayan diseñado para trabajar juntos.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-gherkin\"><span class=\"token comment\">#modules: database-steps, rest-steps</span>\n<span class=\"token feature\"><span class=\"token keyword\">Feature:</span><span class=\"token important\"> ...</span></span></pre>\n<hr>\n<h3 id=\"redefinitionstepmap\"><a href=\"#redefinitionstepmap\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">redefinition.stepMap</code></h3>\n<p>Para los casos en los que un escenario esté representado a nivel de definición y de implementación,\nesta propiedad permite realizar la correspondencia entre los pasos de definición y de la implementación,\nen el caso que no sea una traslacion 1-a-1.</p>\n<p>El valor debe ser una lista de números separada por <code class=\"language-text\">-</code>, en la que cada número indica la cantidad de pasos de\nimplementación que corresponden al paso de definición de la misma posición. Por ejemplo, el valor <code class=\"language-text\">1-2-1</code>\nimplica la siguiente correspondencia:</p>\n<table>\n<thead>\n<tr>\n<th>definición</th>\n<th>implementación</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>1</td>\n</tr>\n<tr>\n<td>2</td>\n<td>2,3</td>\n</tr>\n<tr>\n<td>3</td>\n<td>4</td>\n</tr>\n</tbody>\n</table>\n<p>Esta propiedad se debe definicion en la parte de la implementación, encima del escenario en cuestión.\nAdemás, el escenario debe tener un identificador unívoco.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-gherkin\"><span class=\"token tag\">@implementation</span>\n<span class=\"token feature\"><span class=\"token keyword\">Feature:</span><span class=\"token important\"> ...</span>\n</span>\n  \n<span class=\"token comment\"># redefinition.stepMap: 2-1-2  </span>\n<span class=\"token tag\">@ID-43242</span>   \n<span class=\"token scenario\"><span class=\"token keyword\">Scenario:</span><span class=\"token important\"> ...</span></span></pre>\n<hr>\n<h2 id=\"tipos-de-datos\"><a href=\"#tipos-de-datos\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Tipos de datos</h2>\n<hr>\n<h3 id=\"text\"><a href=\"#text\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">text</code></h3>\n<p>Cualquier texto entrecomillado con <code class=\"language-text\">&#39;&#39;</code>. </p>\n<p>Ejemplo: <code class=\"language-text\">&#39;texto de ejemplo&#39;</code>.</p>\n<hr>\n<h3 id=\"word\"><a href=\"#word\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">word</code></h3>\n<p>Cualquier palabra (admite guiones). </p>\n<p>Ejemplo: <code class=\"language-text\">AB_C-1D</code>.</p>\n<hr>\n<h3 id=\"file\"><a href=\"#file\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">file</code></h3>\n<p>Una ruta local (relativa o absoluta). </p>\n<p>Ejemplo: <code class=\"language-text\">&#39;dir/file.yaml&#39;</code>.</p>\n<hr>\n<h3 id=\"url\"><a href=\"#url\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">url</code></h3>\n<p>Una dirección URL. </p>\n<hr>\n<p>Ejemplo: <code class=\"language-text\">https://localhost/test</code>.</p>\n<h3 id=\"integer\"><a href=\"#integer\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">integer</code></h3>\n<p>Un número entero. </p>\n<p>Ejemplo: <code class=\"language-text\">14</code>.</p>\n<hr>\n<h3 id=\"decimal\"><a href=\"#decimal\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">decimal</code></h3>\n<p>Un número con decimales. </p>\n<p>Ejemplo: <code class=\"language-text\">14.5</code>.</p>\n<hr>\n<h3 id=\"date\"><a href=\"#date\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">date</code></h3>\n<p>Una fecha con formato <code class=\"language-text\">yyyy-MM-dd</code>. </p>\n<p>Ejemplo: <code class=\"language-text\">&#39;2022-02-22&#39;</code>.</p>\n<hr>\n<h3 id=\"time\"><a href=\"#time\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">time</code></h3>\n<p>Una hora con formato <code class=\"language-text\">hh:mm</code>, <code class=\"language-text\">hh:mm:ss</code> o <code class=\"language-text\">hh:mm:ss.SSS</code>. </p>\n<p>Ejemplo: <code class=\"language-text\">&#39;12:05:06.468&#39;</code>.</p>\n<hr>\n<h3 id=\"datetime\"><a href=\"#datetime\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">datetime</code></h3>\n<p>Una fecha y hora con formato <code class=\"language-text\">yyyy-MM-ddThh:mm</code>, <code class=\"language-text\">yyyy-MM-ddThh:mm:ss</code> o <code class=\"language-text\">yyyy-MM-ddThh:mm:ss.SSS</code>. </p>\n<p>Ejemplo: <code class=\"language-text\">&#39;2022-02-22T12:05:06.468&#39;</code>.</p>\n<hr>\n<h3 id=\"text-assertion\"><a href=\"#text-assertion\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">text-assertion</code></h3>\n<p>Comparador de textos. <a href=\"#comparadores\">Ver más</a>. </p>\n<p>Ejemplo: <code class=\"language-text\">es igual a &#39;algo&#39;</code>.</p>\n<hr>\n<h3 id=\"long-assertion\"><a href=\"#long-assertion\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">long-assertion</code></h3>\n<p>Comparador de números enteros. <a href=\"#comparadores\">Ver más</a>. </p>\n<p>Ejemplo: <code class=\"language-text\">es igual o mayor que 13</code>.</p>\n<hr>\n<h3 id=\"float-assertion\"><a href=\"#float-assertion\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">float-assertion</code></h3>\n<p>Comparador de números decimales. <a href=\"#comparadores\">Ver más</a>. </p>\n<p>Ejemplo: <code class=\"language-text\">es igual o menor que 10.02</code>.</p>\n<hr>\n<h3 id=\"document\"><a href=\"#document\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">document</code></h3>\n<p>Bloque de texto ubicado en la siguiente línea de la descripción del paso.\n<a href=\"https://cucumber.io/docs/gherkin/reference/#doc-strings\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ver más</a>. </p>\n<p>Ejemplo:</p>\n<pre class=\"language-gherkin\"><span class=\"token pystring string\">\"\"\"\nUn texto \nmultilínea\n\"\"\"</span></pre>\n<hr>\n<h3 id=\"table\"><a href=\"#table\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">table</code></h3>\n<p>Tabla de datos ubicada en la siguiente línea de la descipción del paso.\n<a href=\"https://cucumber.io/docs/gherkin/reference/#data-tables\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Ver más</a>.</p>\n<p>Ejemplo:</p>\n<pre class=\"language-gherkin\">| USER  | STATE | BLOCKING_DATE |<span class=\"token table-head\">\n<span class=\"token punctuation\">|</span><span class=\"token th variable\"> user1 </span><span class=\"token punctuation\">|</span><span class=\"token th variable\"> 2     </span><span class=\"token punctuation\">|</span><span class=\"token th variable\"> &lt;null>        </span><span class=\"token punctuation\">|</span></span></pre>\n<hr>\n<h2 id=\"comparadores\"><a href=\"#comparadores\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Comparadores</h2>\n<p>Fragmentos de texto que se traducen en comparadores para distintos tipos de datos, reutilizables en cualquier paso.\nLos tipos de comparadores disponibles son:</p>\n<ul>\n<li><code class=\"language-text\">text-assertion</code></li>\n<li><code class=\"language-text\">integer-assertion</code></li>\n<li><code class=\"language-text\">long-assertion</code></li>\n<li><code class=\"language-text\">decimal-assertion</code></li>\n</ul>\n<hr>\n<h3 id=\"no-es-igual-a-x\"><a href=\"#no-es-igual-a-x\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">(no) es (igual a) ~x~</code></h3>\n<p>Tipo: numérico y texto. También admite las variantes <code class=\"language-text\">es (igual a) ~x~ \\(sin distinguir mayúsculas\\)</code> y\n<code class=\"language-text\">es (igual a) ~x~ \\(ignorando espacios\\)</code> para las comparaciones de tipo texto, y la versión en negativo.</p>\n<p>Ejemplos:</p>\n<pre class=\"language-text\">es 14</pre>\n<pre class=\"language-text\">es igual a 22</pre>\n<pre class=\"language-text\">es igual a &#39;algo&#39;</pre>\n<pre class=\"language-text\">es &#39;algo&#39;</pre>\n<pre class=\"language-text\">es igual a &#39;aLgo&#39; (sin distinguir mayúsculas)</pre>\n<pre class=\"language-text\">es igual a &#39; algo &#39; (ignorando espacios)</pre>\n<pre class=\"language-text\">no es igual a 14</pre>\n<hr>\n<h3 id=\"no-es-mayormenor-que-x\"><a href=\"#no-es-mayormenor-que-x\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">(no) es (mayor|menor) que ~x~</code></h3>\n<p>Tipo: numérico. También admite decimales y la versión en negativo.</p>\n<p>Ejemplos:</p>\n<pre class=\"language-text\">es mayor que 14</pre>\n<pre class=\"language-text\">es mayor que 14.3</pre>\n<pre class=\"language-text\">es menor que 14</pre>\n<pre class=\"language-text\">es menor que 14.3</pre>\n<pre class=\"language-text\">no es mayor que 14</pre>\n<hr>\n<h3 id=\"no-es-mayormenor-o-igual-que-x\"><a href=\"#no-es-mayormenor-o-igual-que-x\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">(no) es (mayor|menor) o igual que ~x~</code></h3>\n<p>Tipo: numérico. También admite decimales y la versión en negativo.</p>\n<p>Ejemplos:</p>\n<pre class=\"language-text\">es mayor o igual que 14</pre>\n<pre class=\"language-text\">es mayor o igual que 14.3</pre>\n<pre class=\"language-text\">es menor o igual que 14</pre>\n<pre class=\"language-text\">es menor o igual que 14.3</pre>\n<pre class=\"language-text\">no es mayor o igual que 14</pre>\n<hr>\n<h3 id=\"no-empieza-por-x\"><a href=\"#no-empieza-por-x\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">(no) empieza por ~x~</code></h3>\n<p>Tipo: texto. También admite la variante <code class=\"language-text\">empieza por ~x~ \\(sin distinguir mayúsculas\\)</code>, y la versión en negativo.</p>\n<p>Ejemplos:</p>\n<pre class=\"language-text\">empieza por &#39;algo&#39;</pre>\n<pre class=\"language-text\">empieza por &#39;aLgo&#39; (sin distinguir mayúsculas)</pre>\n<pre class=\"language-text\">no empieza por &#39;algo&#39;</pre>\n<hr>\n<h3 id=\"no-acaba-en-x\"><a href=\"#no-acaba-en-x\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">(no) acaba en ~x~</code></h3>\n<p>Tipo: texto. También admite la variante <code class=\"language-text\">acaba en ~x~ \\(sin distinguir mayúsculas\\)</code>, y la versión en negativo.</p>\n<p>Ejemplos:</p>\n<pre class=\"language-text\">acaba en &#39;algo&#39;</pre>\n<pre class=\"language-text\">acaba en &#39;aLgo&#39; (sin distinguir mayúsculas)</pre>\n<pre class=\"language-text\">no acaba en &#39;algo&#39;</pre>\n<hr>\n<h3 id=\"no-contiene-x\"><a href=\"#no-contiene-x\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">(no) contiene ~x~</code></h3>\n<p>Tipo: texto. También admite la variante <code class=\"language-text\">contiene ~x~ \\(sin distinguir mayúsculas\\)</code>, y la versión en negativo.</p>\n<p>Ejemplos:</p>\n<pre class=\"language-text\">contiene &#39;algo&#39;</pre>\n<pre class=\"language-text\">contiene &#39;aLgo&#39; (sin distinguir mayúsculas)</pre>\n<pre class=\"language-text\">no contiene &#39;algo&#39;</pre>\n<hr>\n<h3 id=\"no-es-nulo\"><a href=\"#no-es-nulo\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">(no) es nulo</code></h3>\n<p>Tipo: numérico y texto. También admite la versión en negativo.</p>\n<p>Ejemplos:</p>\n<pre class=\"language-text\">es nulo</pre>\n<pre class=\"language-text\">no es nulo</pre>\n<hr>\n<h3 id=\"no-está-vacío\"><a href=\"#no-est%C3%A1-vac%C3%ADo\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">(no) está vacío</code></h3>\n<p>Tipo: numérico y texto. También admite la versión en negativo.</p>\n<p>Ejemplos:</p>\n<pre class=\"language-text\">está vacío</pre>\n<pre class=\"language-text\">no está vacío</pre>\n<hr>\n<h3 id=\"no-es-nulo-o-está-vacío\"><a href=\"#no-es-nulo-o-est%C3%A1-vac%C3%ADo\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a><code class=\"language-text\">(no) es nulo o está vacío</code></h3>\n<p>Tipo: numérico y texto. También admite la versión en negativo.</p>\n<p>Ejemplos:</p>\n<pre class=\"language-text\">es nulo o está vacío</pre>\n<pre class=\"language-text\">no es nulo o está vacío</pre>\n<hr>\n<h2 id=\"propiedades-dinámicas\"><a href=\"#propiedades-din%C3%A1micas\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Propiedades dinámicas</h2>\n<p>Wakamiti permite el uso de propiedades dinámicas con las que facilitar el paso de información a la ejecución de los\nescenarios mediante la sintaxis <code class=\"language-text\">${[descripción de la propiedad]}</code>.</p>\n<p>La <code class=\"language-text\">descripción de la propiedad</code> dependerá del tipo de propiedad que se desea aplicar. Por defecto, exsisten las\nsiguientes:</p>\n<ul>\n<li>Obtener el valor de una propiedad global, mediante la sintaxis <code class=\"language-text\">${[name]}</code>. Por ejemplo: <code class=\"language-text\">${credential.password}</code>.</li>\n<li>Obtener el resultado de un paso anterior, mediante la sintaxis <code class=\"language-text\">${[número del paso]#[expresión xpath/jsonpath]</code>.\nPor ejemplo: <code class=\"language-text\">${2#$.body.items[0].id}</code>, en este ejemplo se recuperará el resultado del paso 2 (el cual se espera que sea\nun json) y se recuperará el valor de la expresión jsonpath indicada. <strong>Nota</strong>: la expresión xpath/jsonpath es opcional.</li>\n</ul>\n<p>Veamos un ejemplo práctico:</p>\n<ul>\n<li>Tenemos la siguiente configuración yaml:</li>\n</ul>\n<pre class=\"language-yml\"><span class=\"token key atrule\">wakamiti</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">credentials</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">username</span><span class=\"token punctuation\">:</span> pepe\n    <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> 1234asdf</pre>\n<ul>\n<li>Tenemos el siguiente escenario:</li>\n</ul>\n<pre class=\"language-cucumber\">Escenario: Escenario de prueba\n  Dado que el servicio usa autenticación oauth con las credenciales '${credentials.username}':'${credentials.password}'\n  Cuando se realiza la búsqueda de los usuarios\n  Entonces un usuario identificado por '${2#$.body.items[0].id}' existe en la tabla de BBDD USERS</pre>\n<p>Al lanzar, el escenario se resolvería de la siguiente manera:</p>\n<pre class=\"language-cucumber\">Escenario: Escenario de prueba\n  Dado que el servicio usa autenticación oauth con las credenciales 'pepe':'1234asdf'\n  Cuando se realiza la búsqueda de los usuarios\n  Entonces un usuario identificado por '4' existe en la tabla de BBDD USERS</pre>\n<p><strong>Nota</strong>: Supondremos que el paso <code class=\"language-text\">Cuando se realiza la búsqueda de los usuarios</code> nos devuelve el siguiente resultado:</p>\n<pre class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"headers\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"Content-type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"json/application\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"Connection\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Keep-alive\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"body\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"items\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Pepe\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Ana\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"statusCode\"</span><span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"statusLine\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"HTTP/1.1 200 OK\"</span>\n<span class=\"token punctuation\">}</span></pre>\n"}},"context":{"id":"57a936f649da807a36ace773a78684f4","path":"/wakamiti/architecture/","locale":"es"}}