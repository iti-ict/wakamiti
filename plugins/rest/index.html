<!DOCTYPE html>
<html data-html-server-rendered="true" lang="es" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22es%22%7D%7D">
  <head>
    <title>Pasos REST - Wakamiti</title><meta name="gridsome:hash" content="4db1ce6235d3791bba1f6c3aa7f70d31386c6bd2"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" name="theme-color" content="#10c186"><meta data-vue-tag="ssr" name="google-site-verification" content="undefined"><meta data-vue-tag="ssr" name="apple-mobile-web-app-status-bar-style" content="default"><meta data-vue-tag="ssr" data-key="description" name="description" content="undefined"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/svg+xml" sizes="16x16" href="/wakamiti/assets/static/logo.ce0531f.0e4f5137dd2d5351e7e577d559b09583.svg"><link data-vue-tag="ssr" rel="icon" type="image/svg+xml" sizes="32x32" href="/wakamiti/assets/static/logo.ac8d93a.0e4f5137dd2d5351e7e577d559b09583.svg"><link data-vue-tag="ssr" rel="icon" type="image/svg+xml" sizes="96x96" href="/wakamiti/assets/static/logo.b9532cc.0e4f5137dd2d5351e7e577d559b09583.svg"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/svg+xml" sizes="76x76" href="/wakamiti/assets/static/logo.f22e9f3.0e4f5137dd2d5351e7e577d559b09583.svg"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/svg+xml" sizes="120x120" href="/wakamiti/assets/static/logo.1539b60.0e4f5137dd2d5351e7e577d559b09583.svg"><link rel="preload" href="/wakamiti/assets/css/0.styles.b91cf349.css" as="style"><link rel="preload" href="/wakamiti/assets/js/app.54d2e76b.js" as="script"><link rel="preload" href="/wakamiti/assets/js/page--src--templates--doc-vue.dc5e733b.js" as="script"><link rel="prefetch" href="/wakamiti/assets/js/page--node-modules--gridsome--app--pages--404-vue.d234bc92.js"><link rel="prefetch" href="/wakamiti/assets/js/page--src--pages--index-vue.fa016130.js"><link rel="stylesheet" href="/wakamiti/assets/css/0.styles.b91cf349.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="site" data-v-c66945fa data-v-2eb43bf3><header class="header" data-v-258c6538 data-v-c66945fa><a href="/wakamiti/" title="Back to home" class="logo active" data-v-75aea175 data-v-258c6538><!----><div data-v-75aea175 data-v-75aea175><img alt="logo" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1000 200' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-9a0d5bd9b7f3eb7cc03b9c1e59633de9'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-9a0d5bd9b7f3eb7cc03b9c1e59633de9)' width='1000' height='200' xlink:href='data:image/svg%2bxml%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAANCAYAAAAZr2hsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD7klEQVRIx%2b2Wa0gVQRTH70NN7IFm%2begh9LDogVhRRhHF1Xuvlnevd1fSyKQMIqiI6ElUlH0qgupDSFTUhyiCCupDoBmBvSMsCaIHEQUVgRW9vvSl/mf3zO7ZvavV9xZ%2b7Mycmf%2bcOXN2ZgOxhB6gJ4o3lWOaVadH1uOJuoDqG%2bO%2bcVE335oecPRSjqaPXWlPjkbs/vSUJReZ4xTKN0vLsOoYF/VqsZ6rrLntXk1bzBE1glGexGoz60Eum1iD0a4ZIbvO78qEYemoyTSznzk%2bbs9jSO2QHTBNLM4aG4q6NyeoAoCFYawu7Iblk0KzyyKAll5aAGQQ7Lo1QAbCt%2bxyPOHWkA857BkTdNsNXz9sX8ScsYRnfk89fbx7Lr/F8w7reaATxojouBGRPyKiHub2OrQ/xnsK10OskYPyUpAHxoMa0A3msp12XGk0gh5Q6tEYiPJscB4MF76MxeJVn23gANpy2TYNuj3wsRvv2/x%2biPZxbJ%2bO%2bmW8y8Ua0gJQAH7B0CAmPYYI3rOd19iBhH7VWLaS%2bu7nega/yfkq0ARi4Ds4xbscNFPZyZhbRlMLabSyfia/J6GNFtdO83PfUnBcbNpF1B%2bBErYXgDXgBPgJOy22BRSyPR5P1tNcdSCrrwAUgvcwbAZnQTVoQ9Q72a4WWQY%2bg7vgNS1aOEYZsBzUgi5EvV0EM2jvckKvAF9Z4zkYIDSK2Y8NrF8CjoI7os9p1G%2bC0Z7UXgBeYd4VnLVh0f4NaHag%2b8iALzzZU7CVd%2bEa76AaSLvzkdK0OrWYomoIx/JRrwcnk0uayVbBY3h3DRXENvCWPo0avYH6xYUGbQRlzjre0fvkAzbiuuhzhjIIjBLZlQ0WgjdgLc%2bTJQLwAyT7y4Ai0AsDpWAEPAF7QYeahAdWgp28Q61gorMDqTDq5zhAV8AH8Z2GxE6R/h7W2O7SsALQy4uh86QZHAY3PBnQBUY6t4CeyZ/fS7DaE4D54MufMmACOSOc7AAXSEwMauSUnQNmmoLWTpazxiB2PsX9H4BnIEcEkD6RF6wxgzIIvKPAs8YI/l4rhS%2b04B4RgEt8uBY6N4WewYH9BNa7AqDpEfsMSAuAcy/SAZYtJqVTfAugRalvqZZ3rggMpZMZHKKF8ERDUJ4nNHLBQfUpcBul4W4wDOTzAbcPTGWNwSjvAmPEVYYxxioRgAY%2b5DLV1Vhl/XgVg01gFs%2bl/KZzZIfpr2afQ/73Iv8s%2bN2dwf7vW8du/Yh47n7rBvhrDT9fouJnyPdO99Hys7v%2bN1x/gu5AmPc%2bp5dqC9lt7BxdgfZklob8g3PZ/0Ej7DdG%2bGxrqAwQf6Bh7%2bJlu1hL4P%2bD5zchBjV332YqQgAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="1000" data-src="/wakamiti/assets/static/logo-dark.97c148e.2e5cb9fe662c7d99852fac0fef6d7f82.svg" data-srcset="/wakamiti/assets/static/logo-dark.82a2fbd.2e5cb9fe662c7d99852fac0fef6d7f82.svg 480w, /wakamiti/assets/static/logo-dark.97c148e.2e5cb9fe662c7d99852fac0fef6d7f82.svg 1000w" data-sizes="(max-width: 1000px) 100vw, 1000px" class="g-image g-image--lazy g-image--loading" data-v-75aea175><noscript data-v-75aea175><img src="/wakamiti/assets/static/logo-dark.97c148e.2e5cb9fe662c7d99852fac0fef6d7f82.svg" class="g-image g-image--loaded" width="1000" alt="logo"></noscript></div></a><nav class="nav" data-v-258c6538><button id="languageSwitch" aria-label="Switch language between spanish and english" data-v-3bd90801 data-v-258c6538><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="globe feather feather-globe" data-v-3bd90801 data-v-3bd90801><circle cx="12" cy="12" r="10" data-v-3bd90801></circle><line x1="2" y1="12" x2="22" y2="12" data-v-3bd90801></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" data-v-3bd90801></path></svg><!---->
  EN
</button><button id="themeSwitch" aria-label="Switch theme between light and dark" data-v-2a25ef95 data-v-258c6538><!----><!----></button><button aria-label="Toggle the sidebar" class="toggle" data-v-def1a688 data-v-258c6538><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="open feather feather-menu" data-v-def1a688 data-v-def1a688><line x1="3" y1="12" x2="21" y2="12" data-v-def1a688></line><line x1="3" y1="6" x2="21" y2="6" data-v-def1a688></line><line x1="3" y1="18" x2="21" y2="18" data-v-def1a688></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="close feather feather-x" style="display:none;" data-v-def1a688 data-v-def1a688><line x1="18" y1="6" x2="6" y2="18" data-v-def1a688></line><line x1="6" y1="6" x2="18" y2="18" data-v-def1a688></line></svg></button></nav></header><aside class="sidebar" data-v-14629373 data-v-c66945fa><div class="scroll" data-v-14629373><nav data-v-14629373><ul data-v-14629373><li class="section" data-v-14629373><h3 class="section-title" data-v-14629373>Introducción</h3><ul data-v-14629373><li data-v-14629373><a href="/wakamiti/introduction/what-is-kukumo" class="topic" data-v-14629373>¿Qué es Wakamiti?</a><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><ul data-v-14629373></ul><!----><!----><!----><!----><!----><!----></li><li data-v-14629373><a href="/wakamiti/introduction/getting-started" class="topic" data-v-14629373>Primeros pasos</a><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><ul data-v-14629373></ul><!----></li></ul></li><li class="section" data-v-14629373><h3 class="section-title" data-v-14629373>Wakamiti a fondo</h3><ul data-v-14629373><li data-v-14629373><a href="/wakamiti/kukumo/architecture" class="topic" data-v-14629373>Arquitectura</a><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><ul data-v-14629373><li data-v-14629373><a href="/wakamiti/kukumo/architecture#configuración-global" class="sub-topic" data-v-14629373>Configuración global</a></li><li data-v-14629373><a href="/wakamiti/kukumo/architecture#tipos-de-datos" class="sub-topic" data-v-14629373>Tipos de datos</a></li><li data-v-14629373><a href="/wakamiti/kukumo/architecture#comparadores" class="sub-topic" data-v-14629373>Comparadores</a></li><li data-v-14629373><a href="/wakamiti/kukumo/architecture#propiedades-dinámicas" class="sub-topic" data-v-14629373>Propiedades dinámicas</a></li></ul><!----><!----><!----><!----></li><li data-v-14629373><a href="/wakamiti/plugins" class="topic active" data-v-14629373>Plugins</a><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><ul data-v-14629373><li data-v-14629373><a href="/wakamiti/plugins/rest" aria-current="page" class="sub-topic active--exact active" data-v-14629373>Pasos REST</a></li><li data-v-14629373><a href="/wakamiti/plugins/database" class="sub-topic" data-v-14629373>Pasos BD</a></li><li data-v-14629373><a href="/wakamiti/plugins/amqp" class="sub-topic" data-v-14629373>Pasos AMQP</a></li><li data-v-14629373><a href="/wakamiti/plugins/html-reporter" class="sub-topic" data-v-14629373>Informe HTML</a></li><li data-v-14629373><a href="/wakamiti/plugins/cucumber-exporter" class="sub-topic" data-v-14629373>Informe Cucumber</a></li></ul><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></li></ul></li></ul><a href="https://github.com/iti-ict/kukumo" title="Git-repository" aria-label="Kukumo on Github" class="git small" data-v-2ce15178 data-v-14629373><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon feather feather-github" data-v-2ce15178 data-v-2ce15178><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-2ce15178 data-v-2ce15178></path></svg>
  Fork me on Github
</a></nav></div></aside><main class="main" data-v-c66945fa><h1 data-v-c66945fa data-v-2eb43bf3>
    Pasos REST
  </h1><div class="markdown" data-v-c66945fa data-v-2eb43bf3><p>Este plugin proporciona un conjunto de pasos para interactuar con una API RESTful.</p>
<p><strong>Configuración</strong>:</p>
<ul>
<li><a href="#restbaseurl"><code class="language-text">rest.baseURL</code></a></li>
<li><a href="#restcontenttype"><code class="language-text">rest.contentType</code></a></li>
<li><a href="#resthttpcodethreshold"><code class="language-text">rest.httpCodeThreshold</code></a></li>
<li><a href="#resttimeout"><code class="language-text">rest.timeout</code></a></li>
<li><a href="#restoauth2url"><code class="language-text">rest.oauth2.url</code></a></li>
<li><a href="#restoauth2clientid"><code class="language-text">rest.oauth2.clientId</code></a></li>
<li><a href="#restoauth2clientsecret"><code class="language-text">rest.oauth2.clientSecret</code></a></li>
<li><a href="#restoauth2cached"><code class="language-text">rest.oauth2.cached</code></a></li>
<li><a href="#restoauth2parameters"><code class="language-text">rest.oauth2.parameters</code></a></li>
<li><a href="#restconfigmultipartsubtype"><code class="language-text">rest.config.multipart.subtype</code></a></li>
<li><a href="#restconfigredirectfollow"><code class="language-text">rest.config.redirect.follow</code></a></li>
<li><a href="#restconfigredirectallowcircular"><code class="language-text">rest.config.redirect.allowCircular</code></a></li>
<li><a href="#restconfigredirectrejectrelative"><code class="language-text">rest.config.redirect.rejectRelative</code></a></li>
<li><a href="#restconfigredirectmax"><code class="language-text">rest.config.redirect.max</code></a></li>
</ul>
<p><strong>Pasos</strong>:</p>
<ul>
<li><a href="#definir-tipo-de-contenido">Definir tipo de contenido</a></li>
<li><a href="#definir-url-base">Definir URL base</a></li>
<li><a href="#definir-servicio">Definir servicio</a></li>
<li><a href="#definir-identificador">Definir identificador</a></li>
<li><a href="#definir-par%C3%A1metros-o-cabeceras">Definir parámetros o cabeceras</a></li>
<li><a href="#definir-par%C3%A1metros-o-cabeceras-tabla">Definir parámetros o cabeceras (tabla)</a></li>
<li><a href="#definir-timeout">Definir timeout</a></li>
<li><a href="#definir-umbral-de-c%C3%B3digos-http">Definir umbral de códigos HTTP</a></li>
<li><a href="#definir-autenticaci%C3%B3n-b%C3%A1sica">Definir autenticación básica</a></li>
<li><a href="#definir-autenticaci%C3%B3n-oauth2">Definir autenticación oauth2</a></li>
<li><a href="#definir-autenticaci%C3%B3n-oauth2-por-token">Definir autenticación oauth2 por token</a></li>
<li><a href="#definir-autenticaci%C3%B3n-oauth2-por-token-fichero">Definir autenticación oauth2 por token (fichero)</a></li>
<li><a href="#definir-autenticaci%C3%B3n-oauth2-por-credenciales">Definir autenticación oauth2 por credenciales</a></li>
<li><a href="#definir-autenticaci%C3%B3n-oauth2-por-cliente">Definir autenticación oauth2 por cliente</a></li>
<li><a href="#borrar-autenticaci%C3%B3n">Borrar autenticación</a></li>
<li><a href="#definir-subtipo-multiparte">Definir subtipo multiparte</a></li>
<li><a href="#definir-archivo-adjunto">Definir archivo adjunto</a></li>
<li><a href="#definir-archivo-adjunto-fichero">Definir archivo adjunto (fichero)</a></li>
<li><a href="#realizar-llamada-get">Realizar llamada GET</a></li>
<li><a href="#realizar-llamada-delete">Realizar llamada DELETE</a></li>
<li><a href="#realizar-llamada-put-con-mensaje">Realizar llamada PUT con mensaje</a></li>
<li><a href="#realizar-llamada-put-con-mensaje-fichero">Realizar llamada PUT con mensaje (fichero)</a></li>
<li><a href="#realizar-llamada-patch">Realizar llamada PATCH</a></li>
<li><a href="#realizar-llamada-patch-con-mensaje">Realizar llamada PATCH con mensaje</a></li>
<li><a href="#realizar-llamada-patch-con-mensaje-fichero">Realizar llamada PATCH con mensaje (fichero)</a></li>
<li><a href="#realizar-llamada-post">Realizar llamada POST</a></li>
<li><a href="#realizar-llamada-post-con-mensaje">Realizar llamada POST con mensaje</a></li>
<li><a href="#realizar-llamada-post-con-mensaje-fichero">Realizar llamada POST con mensaje (fichero)</a></li>
<li><a href="#comprobar-c%C3%B3digo-http-de-respuesta">Comprobar código HTTP de respuesta</a></li>
<li><a href="#comprobar-mensaje-de-respuesta">Comprobar mensaje de respuesta</a></li>
<li><a href="#comprobar-mensaje-de-respuesta-fichero">Comprobar mensaje de respuesta (fichero)</a></li>
<li><a href="#comprobar-fragmento-de-la-respuesta">Comprobar fragmento de la respuesta</a></li>
<li><a href="#comprobar-tipo-de-contenido-de-la-respuesta">Comprobar tipo de contenido de la respuesta</a></li>
<li><a href="#comprobar-tama%C3%B1o-de-la-respuesta">Comprobar tamaño de la respuesta</a></li>
<li><a href="#comprobar-cabecera">Comprobar cabecera</a></li>
<li><a href="#comprobar-esquema-de-la-respuesta">Comprobar esquema de la respuesta</a></li>
<li><a href="#comprobar-esquema-de-la-respuesta-fichero">Comprobar esquema de la respuesta (fichero)</a></li>
</ul>
<h2 id="configuración"><a href="#configuraci%C3%B3n" aria-hidden="true"><span class="icon icon-link"></span></a>Configuración</h2>
<hr>
<h3 id="restbaseurl"><a href="#restbaseurl" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.baseURL</code></h3>
<p>Establece la URL base para las llamadas REST. Esto es equivalente al paso <code class="language-text">{word} como el tipo de contenido REST</code> si se
prefiere una declaración más descriptiva.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">baseURL</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//example.org/api/v2</pre>
<hr>
<h3 id="restcontenttype"><a href="#restcontenttype" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.contentType</code></h3>
<p>Establece el tipo de contenido que se enviará en la cabecera de las llamadas REST.
Los valores aceptados son:</p>
<table>
<thead>
<tr>
<th>literal</th>
<th>valor de la cabecera <code class="language-text">content-type</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">ANY</code></td>
<td><code class="language-text">*/*</code></td>
</tr>
<tr>
<td><code class="language-text">TEXT</code></td>
<td><code class="language-text">text/plain</code></td>
</tr>
<tr>
<td><code class="language-text">JSON</code></td>
<td><code class="language-text">application/json, application/javascript, text/javascript, text/json</code></td>
</tr>
<tr>
<td><code class="language-text">XML</code></td>
<td><code class="language-text">application/xml, text/xml, application/xhtml+xml</code></td>
</tr>
<tr>
<td><code class="language-text">HTML</code></td>
<td><code class="language-text">text/html</code></td>
</tr>
<tr>
<td><code class="language-text">URLENC</code></td>
<td><code class="language-text">application/x-www-form-urlencoded</code></td>
</tr>
<tr>
<td><code class="language-text">BINARY</code></td>
<td><code class="language-text">application/octet-stream</code></td>
</tr>
</tbody>
</table>
<p>El valor por defecto es <code class="language-text">JSON</code>.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">contentType</span><span class="token punctuation">:</span> XML</pre>
<hr>
<h3 id="resthttpcodethreshold"><a href="#resthttpcodethreshold" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.httpCodeThreshold</code></h3>
<p>Establece un límite a los códigos de respuesta HTTP. Cada vez que una llamada REST retorne un código HTTP igual o
superior a este valor, el paso se marcará como fallido automáticamente, sin comprobar ninguna otra condición.</p>
<p>El valor por defecto es <code class="language-text">500</code>.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">httpCodeThreshold</span><span class="token punctuation">:</span> <span class="token number">999</span></pre>
<hr>
<h3 id="resttimeout"><a href="#resttimeout" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.timeout</code></h3>
<p>Establece un tiempo máximo de respuesta (en milisegundos) para las siguientes peticiones HTTP. En el caso de exceder el
tiempo indicado se detendrá la llamada y se producirá un error.</p>
<p>El valor por defecto es <code class="language-text">60000</code>.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">timeout</span><span class="token punctuation">:</span> <span class="token number">10000</span></pre>
<hr>
<h3 id="restoauth2url"><a href="#restoauth2url" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.oauth2.url</code></h3>
<p>Establece el servicio de autenticación <a href="https://datatracker.ietf.org/doc/html/rfc6749" title="OAuth 2.0" target="_blank" rel="nofollow noopener noreferrer">OAuth 2.0</a> que se usará para generar el token que se enviará en la
cabecera HTTP <code class="language-text">Authorization</code> de las llamadas REST.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">oauth2</span><span class="token punctuation">:</span> 
    <span class="token key atrule">url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//accounts.google.com/o/oauth2/auth</pre>
<hr>
<h3 id="restoauth2clientid"><a href="#restoauth2clientid" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.oauth2.clientId</code></h3>
<p>Establece el parámetro <code class="language-text">clientId</code> para el servicio de autenticación <a href="https://datatracker.ietf.org/doc/html/rfc6749" title="OAuth 2.0" target="_blank" rel="nofollow noopener noreferrer">OAuth 2.0</a> definido por el valor de la
propiedad de configuración <code class="language-text">rest.oauth2.url</code>.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">oauth2</span><span class="token punctuation">:</span> 
    <span class="token key atrule">clientId</span><span class="token punctuation">:</span> WEB_APP</pre>
<hr>
<h3 id="restoauth2clientsecret"><a href="#restoauth2clientsecret" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.oauth2.clientSecret</code></h3>
<p>Establece el parámetro <code class="language-text">clientSecret</code> para el servicio de autenticación <a href="https://datatracker.ietf.org/doc/html/rfc6749" title="OAuth 2.0" target="_blank" rel="nofollow noopener noreferrer">OAuth 2.0</a> definido por el valor de la
propiedad de configuración <code class="language-text">rest.oauth2.url</code>.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">oauth2</span><span class="token punctuation">:</span> 
    <span class="token key atrule">clientSecret</span><span class="token punctuation">:</span> ABRACADABRAus1ZMGHvq9R</pre>
<hr>
<h3 id="restoauth2cached"><a href="#restoauth2cached" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.oauth2.cached</code></h3>
<p>Establece si el token recuperado se guarda en caché para evitar llamadas recurrentes al servicio oauth si los datos son
los mismos.</p>
<p>El valor por defecto es <code class="language-text">false</code>.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">oauth2</span><span class="token punctuation">:</span>
    <span class="token key atrule">cached</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></pre>
<hr>
<h3 id="restoauth2parameters"><a href="#restoauth2parameters" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.oauth2.parameters</code></h3>
<p>Establece los parámetros por defecto de la autenticación oauth.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">oauth2</span><span class="token punctuation">:</span>
    <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
      <span class="token key atrule">grant_type</span><span class="token punctuation">:</span> password
      <span class="token key atrule">username</span><span class="token punctuation">:</span> pepe
      <span class="token key atrule">password</span><span class="token punctuation">:</span> 1234asdf
      <span class="token key atrule">scope</span><span class="token punctuation">:</span> something</pre>
<hr>
<h3 id="restconfigmultipartsubtype"><a href="#restconfigmultipartsubtype" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.config.multipart.subtype</code></h3>
<p>Establece el subtipo de las llamadas multiparte. Los valores disponibles son:</p>
<table>
<thead>
<tr>
<th>literal</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">form-data</code></td>
</tr>
<tr>
<td><code class="language-text">alternative</code></td>
</tr>
<tr>
<td><code class="language-text">byteranges</code></td>
</tr>
<tr>
<td><code class="language-text">digest</code></td>
</tr>
<tr>
<td><code class="language-text">mixed</code></td>
</tr>
<tr>
<td><code class="language-text">parallel</code></td>
</tr>
<tr>
<td><code class="language-text">related</code></td>
</tr>
<tr>
<td><code class="language-text">report</code></td>
</tr>
<tr>
<td><code class="language-text">signed</code></td>
</tr>
<tr>
<td><code class="language-text">encrypted</code></td>
</tr>
</tbody>
</table>
<p>El valor por defecto es <code class="language-text">form-data</code>.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">multipart</span><span class="token punctuation">:</span>
      <span class="token key atrule">subtype</span><span class="token punctuation">:</span> mixed</pre>
<hr>
<h3 id="restconfigredirectfollow"><a href="#restconfigredirectfollow" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.config.redirect.follow</code></h3>
<p>Establece si se permite seguir las redirecciones en las llamadas HTTP. </p>
<p>El valor por defecto es <code class="language-text">true</code>.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">redirect</span><span class="token punctuation">:</span>
      <span class="token key atrule">follow</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></pre>
<hr>
<h3 id="restconfigredirectallowcircular"><a href="#restconfigredirectallowcircular" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.config.redirect.allowCircular</code></h3>
<p>Establece si se permite las redirecciones circulares en las llamadas HTTP.</p>
<p>El valor por defecto es <code class="language-text">false</code>.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">redirect</span><span class="token punctuation">:</span>
      <span class="token key atrule">allowCircular</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></pre>
<hr>
<h3 id="restconfigredirectrejectrelative"><a href="#restconfigredirectrejectrelative" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.config.redirect.rejectRelative</code></h3>
<p>Establece si se rechazan las redirecciones relativas en las llamadas HTTP.</p>
<p>El valor por defecto es <code class="language-text">false</code>.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">redirect</span><span class="token punctuation">:</span>
      <span class="token key atrule">rejectRelative</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></pre>
<hr>
<h3 id="restconfigredirectmax"><a href="#restconfigredirectmax" aria-hidden="true"><span class="icon icon-link"></span></a><code class="language-text">rest.config.redirect.max</code></h3>
<p>Establece el número de redirecciones máximo en las llamadas HTTP.</p>
<p>El valor por defecto es <code class="language-text">100</code>.</p>
<p>Ejemplo:</p>
<pre class="language-yaml"><span class="token key atrule">rest</span><span class="token punctuation">:</span>
  <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">redirect</span><span class="token punctuation">:</span>
      <span class="token key atrule">max</span><span class="token punctuation">:</span> <span class="token number">150</span></pre>
<h2 id="pasos"><a href="#pasos" aria-hidden="true"><span class="icon icon-link"></span></a>Pasos</h2>
<hr>
<h3 id="definir-tipo-de-contenido"><a href="#definir-tipo-de-contenido" aria-hidden="true"><span class="icon icon-link"></span></a>Definir tipo de contenido</h3>
<pre class="language-text">{type} como el tipo de contenido REST</pre>
<p>Establece el tipo de contenido de la API en la cabecera <code class="language-text">content-type</code>. Este paso es equivalente a configurar la
propiedad <a href="#restcontenttype"><code class="language-text">rest.contentType</code></a>. </p>
<h4 id="parámetros"><a href="#par%C3%A1metros" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h4>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">type</code></td>
<td><code class="language-text">word</code></td>
<td>La URL de conexión</td>
</tr>
</tbody>
</table>
<h4 id="ejemplos"><a href="#ejemplos" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h4>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> XML como el tipo de contenido REST</pre>
<hr>
<h3 id="definir-url-base"><a href="#definir-url-base" aria-hidden="true"><span class="icon icon-link"></span></a>Definir URL base</h3>
<pre class="language-text">la URL base {url}</pre>
<p>Establece la ruta base de la API. Este paso es equivalente a configurar la propiedad <a href="#restbaseurl"><code class="language-text">rest.baseURL</code></a>. </p>
<h4 id="parámetros-1"><a href="#par%C3%A1metros-1" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h4>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">url</code></td>
<td><code class="language-text">url</code></td>
<td>URL base</td>
</tr>
</tbody>
</table>
<h4 id="ejemplos-1"><a href="#ejemplos-1" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h4>
<pre class="language-gherkin">  <span class="token atrule">Dada</span> la URL base https//example.org/api</pre>
<hr>
<h3 id="definir-servicio"><a href="#definir-servicio" aria-hidden="true"><span class="icon icon-link"></span></a>Definir servicio</h3>
<pre class="language-text">el servicio REST {service}</pre>
<p>Establece la ruta del servicio a probar. Se concatenará al valor de la <a href="#definir-url-base">url base</a>.</p>
<h4 id="parámetros-2"><a href="#par%C3%A1metros-2" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h4>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">service</code></td>
<td><code class="language-text">text</code></td>
<td>Segmento URL</td>
</tr>
</tbody>
</table>
<h4 id="ejemplos-2"><a href="#ejemplos-2" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h4>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el servicio REST '/users`</pre>
<hr>
<h3 id="definir-identificador"><a href="#definir-identificador" aria-hidden="true"><span class="icon icon-link"></span></a>Definir identificador</h3>
<pre class="language-text">* identificad(o|a|os|as) por {text}</pre>
<p>Establece un identificador de recurso REST para ser usado por el servicio. Se concatenará al valor de la
<a href="#definir-url-base">url base</a> y del <a href="#definir-servicio">servicio</a> en concreto.</p>
<h4 id="parámetros-3"><a href="#par%C3%A1metros-3" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h4>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">text</code></td>
<td><code class="language-text">text</code></td>
<td>Un identificador de recurso</td>
</tr>
</tbody>
</table>
<h4 id="ejemplos-3"><a href="#ejemplos-3" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h4>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> un usuario identificado por <span class="token string">'john'</span></pre>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> un libro identificado por <span class="token string">'978-3-16-148410-0'</span></pre>
<hr>
<h3 id="definir-parámetros-o-cabeceras"><a href="#definir-par%C3%A1metros-o-cabeceras" aria-hidden="true"><span class="icon icon-link"></span></a>Definir parámetros o cabeceras</h3>
<pre class="language-text">el parámetro de (solicitud|búsqueda|ruta) {name} con el valor {value}</pre>
<pre class="language-text">las cabecera {name} con el valor {value}</pre>
<p>Establece una cabecera o parámetro de petición, búsqueda o ruta REST. Los parámetros de petición se enviarán como
datos de formulario wn las llamadas POST, los parámetros de búsqueda se concatenarán a la URL de la petición tras la
ruta (p.e. <code class="language-text">/user?param1=abc&amp;param2=123</code>), y los parámetros de ruta reemplazarán los fragmentos de la ruta del servicio indicados
con llaves <code class="language-text">{}</code>.</p>
<h5 id="parámetros-4"><a href="#par%C3%A1metros-4" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">name</code></td>
<td><code class="language-text">text</code></td>
<td>Nombre del parámetro o cabecera</td>
</tr>
<tr>
<td><code class="language-text">value</code></td>
<td><code class="language-text">text</code></td>
<td>Valor del parámetro o cabecera</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-4"><a href="#ejemplos-4" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el parámetro de solicitud <span class="token string">'age'</span> con el valor <span class="token string">'13'</span>
  <span class="token atrule">Cuando</span> se envía al servicio la información</pre>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el parámetro de búsqueda <span class="token string">'city'</span> con el valor <span class="token string">'Valencia'</span>
  <span class="token atrule">Cuando</span> se realiza la búsqueda del usuario</pre>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el servicio <span class="token string">'user/{usuario}/items'</span>
  <span class="token atrule">Y</span> el parámetro de ruta <span class="token string">'usuario'</span> con el valor <span class="token string">'25'</span></pre>
<pre class="language-gherkin">  <span class="token atrule">Dada</span> la cabeceras <span class="token string">'Keep-alive'</span> con el valor <span class="token string">'1200'</span></pre>
<hr>
<h3 id="definir-parámetros-o-cabeceras-tabla"><a href="#definir-par%C3%A1metros-o-cabeceras-tabla" aria-hidden="true"><span class="icon icon-link"></span></a>Definir parámetros o cabeceras (tabla)</h3>
<pre class="language-text">los siguientes parámetros de (solicitud|búsqueda|ruta):</pre>
<pre class="language-text">las siguientes cabeceras:</pre>
<p>Establece varias cabeceras o parámetros de petición, búsqueda o ruta REST. Los parámetros de petición se enviarán como
datos de formulario, los parámetros de búsqueda se concatenarán a la URL de la petición tras la ruta (p.e.
<code class="language-text">/user?param1=abc&amp;param2=123</code>), y los parámetros de ruta reemplazarán los fragmentos de la ruta del servicio indicados
con llaves <code class="language-text">{}</code>.</p>
<h5 id="parámetros-5"><a href="#par%C3%A1metros-5" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><code class="language-text">table</code></td>
<td>Una tabla con las columnas <code class="language-text">nombre</code> y <code class="language-text">valor</code></td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-5"><a href="#ejemplos-5" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dados</span> los siguiente parámetros de solicitud:<span class="token table-head">
    <span class="token punctuation">|</span><span class="token th variable"> nombre </span><span class="token punctuation">|</span><span class="token th variable"> valor    </span><span class="token punctuation">|</span></span><span class="token table-body">
    <span class="token punctuation">|</span><span class="token td string"> age    </span><span class="token punctuation">|</span><span class="token td string"> 13       </span><span class="token punctuation">|</span>
    <span class="token punctuation">|</span><span class="token td string"> city   </span><span class="token punctuation">|</span><span class="token td string"> Valencia </span><span class="token punctuation">|</span></span>
  <span class="token atrule">Cuando</span> se envía al servicio la información</pre>
<pre class="language-gherkin">  <span class="token atrule">Dados</span> los siguiente parámetros de búsqueda:<span class="token table-head">
    <span class="token punctuation">|</span><span class="token th variable"> nombre </span><span class="token punctuation">|</span><span class="token th variable"> valor    </span><span class="token punctuation">|</span></span><span class="token table-body">
    <span class="token punctuation">|</span><span class="token td string"> age    </span><span class="token punctuation">|</span><span class="token td string"> 13       </span><span class="token punctuation">|</span>
    <span class="token punctuation">|</span><span class="token td string"> city   </span><span class="token punctuation">|</span><span class="token td string"> Valencia </span><span class="token punctuation">|</span></span>
  <span class="token atrule">Cuando</span> se realiza la búsqueda del usuario</pre>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el servicio <span class="token string">'user/{usuario}/items/{item}'</span>
  <span class="token atrule">Y</span> los siguientes parámetros de ruta:<span class="token table-head">
    <span class="token punctuation">|</span><span class="token th variable"> nombre  </span><span class="token punctuation">|</span><span class="token th variable"> valor    </span><span class="token punctuation">|</span></span><span class="token table-body">
    <span class="token punctuation">|</span><span class="token td string"> usuario </span><span class="token punctuation">|</span><span class="token td string"> 25       </span><span class="token punctuation">|</span>
    <span class="token punctuation">|</span><span class="token td string"> item    </span><span class="token punctuation">|</span><span class="token td string"> 7        </span><span class="token punctuation">|</span></span></pre>
<pre class="language-gherkin">  <span class="token atrule">Dadas</span> las siguientes cabeceras:<span class="token table-head">
    <span class="token punctuation">|</span><span class="token th variable"> nombre       </span><span class="token punctuation">|</span><span class="token th variable"> valor </span><span class="token punctuation">|</span></span><span class="token table-body">
    <span class="token punctuation">|</span><span class="token td string"> Age          </span><span class="token punctuation">|</span><span class="token td string"> 3600  </span><span class="token punctuation">|</span>
    <span class="token punctuation">|</span><span class="token td string"> Keep-Alive   </span><span class="token punctuation">|</span><span class="token td string"> 1200  </span><span class="token punctuation">|</span></span></pre>
<hr>
<h3 id="definir-timeout"><a href="#definir-timeout" aria-hidden="true"><span class="icon icon-link"></span></a>Definir timeout</h3>
<pre class="language-text">un timeout de {int} (mili)segundos</pre>
<p>Establece un tiempo máximo de respuesta (en segundos o milisegundos) para las siguientes peticiones HTTP. En el caso de
exceder el tiempo indicado se detendrá la llamada y se producirá un error.</p>
<h5 id="parámetros-6"><a href="#par%C3%A1metros-6" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">int</code></td>
<td><code class="language-text">int</code></td>
<td>El tiempo máximo</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-6"><a href="#ejemplos-6" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> un timeout de 12000 milisegundos</pre>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> un timeout de 10 segundos</pre>
<hr>
<h3 id="definir-umbral-de-códigos-http"><a href="#definir-umbral-de-c%C3%B3digos-http" aria-hidden="true"><span class="icon icon-link"></span></a>Definir umbral de códigos HTTP</h3>
<pre class="language-text">(que) toda petición se considera fallida si su código HTTP {matcher}</pre>
<p>Establece una validación general para el código HTTP de todas las respuestas siguientes. Es similar a la propiedad de
configuración <a href="#resthttpcodethreshold"><code class="language-text">rest.httpCodeTreshold</code></a> pero con una validación de enteros personalizada.</p>
<h5 id="parámetros-7"><a href="#par%C3%A1metros-7" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">matcher</code></td>
<td><code class="language-text">integer-assertion</code></td>
<td><a href="/wakamiti//kukumo/architecture#comparadores">Comparador</a> numérico</td>
</tr>
</tbody>
</table>
<h5 id="ejemplo"><a href="#ejemplo" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplo:</h5>
<pre class="language-gherkin">  * toda petición se considera fallida si su código HTTP es igual o mayor que 500</pre>
<hr>
<h3 id="definir-autenticación-básica"><a href="#definir-autenticaci%C3%B3n-b%C3%A1sica" aria-hidden="true"><span class="icon icon-link"></span></a>Definir autenticación básica</h3>
<pre class="language-text">(que) el servicio usa autenticación básica con las credenciales {username}:{password}</pre>
<p>Establece las credenciales de autenticación básica que se enviarán en la cabecera HTTP <code class="language-text">Authorization</code>.</p>
<h5 id="parámetros-8"><a href="#par%C3%A1metros-8" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">username</code></td>
<td><code class="language-text">text</code></td>
<td>Nombre de usuario</td>
</tr>
<tr>
<td><code class="language-text">password</code></td>
<td><code class="language-text">text</code></td>
<td>Contraseña</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-7"><a href="#ejemplos-7" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> que el servicio usa autenticación básica con las credenciales <span class="token string">'us1532'</span>:<span class="token string">'xxxxx'</span></pre>
<hr>
<h3 id="definir-autenticación-oauth2"><a href="#definir-autenticaci%C3%B3n-oauth2" aria-hidden="true"><span class="icon icon-link"></span></a>Definir autenticación oauth2</h3>
<pre class="language-text">(que) el servicio usa autenticación oauth</pre>
<p>Establece el token de autenticación "bearer" que se enviará en la cabecera <code class="language-text">Authorization</code>, que se recupera previamente
del servicio oauth2 configurado (<a href="#restoauth2url">url</a>, <a href="#restoauth2clientid">clientId</a>,
<a href="#restoauth2clientsecret">clientSecret</a>, <a href="#restoauth2parameters">parámetros</a>), para las siguientes peticiones.</p>
<h5 id="ejemplos-8"><a href="#ejemplos-8" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> que el servicio usa autenticación oauth</pre>
<hr>
<h3 id="definir-autenticación-oauth2-por-token"><a href="#definir-autenticaci%C3%B3n-oauth2-por-token" aria-hidden="true"><span class="icon icon-link"></span></a>Definir autenticación oauth2 por token</h3>
<pre class="language-text">(que) el servicio usa autenticación oauth con el token {token}</pre>
<p>Establece el token de autenticación "bearer" que se enviará en la cabecera <code class="language-text">Authorization</code> para las siguientes
peticiones.</p>
<h5 id="parámetros-9"><a href="#par%C3%A1metros-9" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">token</code></td>
<td><code class="language-text">text</code></td>
<td>token de autenticación</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-9"><a href="#ejemplos-9" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> que el servicio usa autenticación oauth con el token <span class="token string">'hudytw9834y9cqy32t94'</span></pre>
<hr>
<h3 id="definir-autenticación-oauth2-por-token-fichero"><a href="#definir-autenticaci%C3%B3n-oauth2-por-token-fichero" aria-hidden="true"><span class="icon icon-link"></span></a>Definir autenticación oauth2 por token (fichero)</h3>
<pre class="language-text">(que) el servicio usa autenticación oauth con el token del fichero {file}</pre>
<p>Establece el token de autenticación "bearer" que se enviará en la cabecera <code class="language-text">Authorization</code> para las siguientes llamadas,
obtenido desde un fichero.</p>
<h5 id="parámetros-10"><a href="#par%C3%A1metros-10" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">file</code></td>
<td><code class="language-text">file</code></td>
<td>Fichero con el token de autenticación</td>
</tr>
</tbody>
</table>
<h5 id="ejemplo-1"><a href="#ejemplo-1" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplo:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> que el servicio usa autenticación oauth con el token del fichero <span class="token string">'token.txt'</span></pre>
<hr>
<h3 id="definir-autenticación-oauth2-por-credenciales"><a href="#definir-autenticaci%C3%B3n-oauth2-por-credenciales" aria-hidden="true"><span class="icon icon-link"></span></a>Definir autenticación oauth2 por credenciales</h3>
<pre class="language-text">(que) el servicio usa autenticación oauth con las credenciales {username}:{password}</pre>
<pre class="language-text">(que) el servicio usa autenticación oauth con las credenciales {username}:{password} y los siguientes parámetros:</pre>
<p>Establece el token de autenticación "bearer" que se enviará en la cabecera <code class="language-text">Authorization</code>, que se recupera previamente
del servicio oauth2 configurado (<a href="#restoauth2url">url</a>, <a href="#restoauth2clientid">clientId</a>,
<a href="#restoauth2clientsecret">clientSecret</a>), usando las credenciales indicadas, para las siguientes peticiones. </p>
<p>También se pueden añadir más parámetros adicionales admitidos por <code class="language-text">Oauth</code> mediante una tabla.</p>
<h5 id="parámetros-11"><a href="#par%C3%A1metros-11" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">username</code></td>
<td><code class="language-text">text</code></td>
<td>Nombre de usuario</td>
</tr>
<tr>
<td><code class="language-text">password</code></td>
<td><code class="language-text">text</code></td>
<td>Contraseña</td>
</tr>
<tr>
<td></td>
<td><code class="language-text">table</code></td>
<td>Una tabla con las columnas <code class="language-text">nombre</code> y <code class="language-text">valor</code></td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-10"><a href="#ejemplos-10" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> que el servicio usa autenticación oauth con las credenciales <span class="token string">'us1532'</span>:<span class="token string">'xxxxx'</span></pre>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> que el servicio usa autenticación oauth con las credenciales <span class="token string">'us1532'</span>:<span class="token string">'xxxxx'</span> y los siguientes parámetros:<span class="token table-head">
    <span class="token punctuation">|</span><span class="token th variable"> name  </span><span class="token punctuation">|</span><span class="token th variable"> value     </span><span class="token punctuation">|</span></span><span class="token table-body">
    <span class="token punctuation">|</span><span class="token td string"> scope </span><span class="token punctuation">|</span><span class="token td string"> something </span><span class="token punctuation">|</span></span></pre>
<hr>
<h3 id="definir-autenticación-oauth2-por-cliente"><a href="#definir-autenticaci%C3%B3n-oauth2-por-cliente" aria-hidden="true"><span class="icon icon-link"></span></a>Definir autenticación oauth2 por cliente</h3>
<pre class="language-text">(que) el servicio usa autenticación oauth</pre>
<pre class="language-text">(que) el servicio usa autenticación oauth con los siguientes parámetros:</pre>
<p>Establece el token de autenticación "bearer" que se enviará en la cabecera <code class="language-text">Authorization</code>, que se recupera previamente
del servicio oauth2 configurado (<a href="#restoauth2url">url</a>, <a href="#restoauth2clientid">clientId</a>,
<a href="#restoauth2clientsecret">clientSecret</a>), usando los datos del cliente, para las siguientes peticiones.</p>
<p>También se pueden añadir más parámetros adicionales admitidos por <code class="language-text">Oauth</code> mediante una tabla.</p>
<h5 id="parámetros-12"><a href="#par%C3%A1metros-12" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><code class="language-text">table</code></td>
<td>Una tabla con las columnas <code class="language-text">nombre</code> y <code class="language-text">valor</code></td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-11"><a href="#ejemplos-11" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> que el servicio usa autenticación oauth</pre>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> que el servicio usa autenticación oauth con los siguientes parámetros:<span class="token table-head">
    <span class="token punctuation">|</span><span class="token th variable"> name  </span><span class="token punctuation">|</span><span class="token th variable"> value     </span><span class="token punctuation">|</span></span><span class="token table-body">
    <span class="token punctuation">|</span><span class="token td string"> scope </span><span class="token punctuation">|</span><span class="token td string"> something </span><span class="token punctuation">|</span></span></pre>
<hr>
<h3 id="borrar-autenticación"><a href="#borrar-autenticaci%C3%B3n" aria-hidden="true"><span class="icon icon-link"></span></a>Borrar autenticación</h3>
<pre class="language-text">(que) el servicio no usa autenticación</pre>
<p>Elimina la cabecera con la autenticación.</p>
<h5 id="ejemplos-12"><a href="#ejemplos-12" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> que el servicio no usa autenticación</pre>
<h3 id="definir-subtipo-multiparte"><a href="#definir-subtipo-multiparte" aria-hidden="true"><span class="icon icon-link"></span></a>Definir subtipo multiparte</h3>
<pre class="language-text">{type} como subtipo multiparte</pre>
<p>Establece el subtipo por defecto de las llamadas multiparte. Este paso es equivalente a configurar la propiedad
<a href="#restconfigmultipartsubtype"><code class="language-text">rest.config.multipart.subtype</code></a>.</p>
<h5 id="parámetros-13"><a href="#par%C3%A1metros-13" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">type</code></td>
<td><code class="language-text">text</code></td>
<td>Subtipo multiparte</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-13"><a href="#ejemplos-13" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> <span class="token string">'mixed'</span> como subtipo multiparte</pre>
<hr>
<h3 id="definir-archivo-adjunto"><a href="#definir-archivo-adjunto" aria-hidden="true"><span class="icon icon-link"></span></a>Definir archivo adjunto</h3>
<pre class="language-text">(que) se incluye el fichero adjunto {name} con los siguientes datos:</pre>
<p>Indica el texto que se incluirá como fichero adjunto en datos de formulario.</p>
<h5 id="parámetros-14"><a href="#par%C3%A1metros-14" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td>{name}</td>
<td><code class="language-text">text</code></td>
<td>Nombre de control</td>
</tr>
<tr>
<td></td>
<td><code class="language-text">document</code></td>
<td>Contenido a adjuntar</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-14"><a href="#ejemplos-14" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> que se incluye el fichero adjunto <span class="token string">'fichero'</span> con los siguientes datos:
    <span class="token pystring string">"""
    Contenido del fichero
    """</span></pre>
<hr>
<h3 id="definir-archivo-adjunto-fichero"><a href="#definir-archivo-adjunto-fichero" aria-hidden="true"><span class="icon icon-link"></span></a>Definir archivo adjunto (fichero)</h3>
<pre class="language-text">(que) se incluye el fichero adjunto {name} con el contenido del fichero {file}</pre>
<p>Indica el fichero cuyo contenido se incluirá como fichero adjunto en datos de formulario.</p>
<h5 id="parámetros-15"><a href="#par%C3%A1metros-15" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">file</code></td>
<td><code class="language-text">file</code></td>
<td>Fichero con el contenido a adjuntar</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-15"><a href="#ejemplos-15" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> que se incluye el fichero adjunto <span class="token string">'fichero'</span> con el contenido del fichero <span class="token string">'data.txt'</span></pre>
<hr>
<h3 id="realizar-llamada-get"><a href="#realizar-llamada-get" aria-hidden="true"><span class="icon icon-link"></span></a>Realizar llamada GET</h3>
<pre class="language-text">se realiza la búsqueda *</pre>
<pre class="language-text">se consulta(n) *</pre>
<p>Envía una petición <code class="language-text">GET</code> al servicio con los parámetros definidos previamente.</p>
<h5 id="ejemplos-16"><a href="#ejemplos-16" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el servicio REST <span class="token string">'/users'</span>
  <span class="token atrule">Y</span> los siguientes parámetros de búsqueda:<span class="token table-head">
    <span class="token punctuation">|</span><span class="token th variable"> name </span><span class="token punctuation">|</span><span class="token th variable"> value    </span><span class="token punctuation">|</span></span><span class="token table-body">
    <span class="token punctuation">|</span><span class="token td string"> age  </span><span class="token punctuation">|</span><span class="token td string"> 13       </span><span class="token punctuation">|</span>
    <span class="token punctuation">|</span><span class="token td string"> city </span><span class="token punctuation">|</span><span class="token td string"> Valencia </span><span class="token punctuation">|</span></span>
  <span class="token atrule">Cuando</span> se realiza la búsqueda de usuarios</pre>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el servicio REST <span class="token string">'/users'</span>
  <span class="token atrule">Y</span> un usuario identificado por <span class="token string">'123'</span>
  <span class="token atrule">Cuando</span> se consulta el usuario</pre>
<hr>
<h3 id="realizar-llamada-delete"><a href="#realizar-llamada-delete" aria-hidden="true"><span class="icon icon-link"></span></a>Realizar llamada DELETE</h3>
<pre class="language-text">se elimina(n) *</pre>
<p>Envía una petición <code class="language-text">DELETE</code> al servicio y recurso REST definido previamente.</p>
<h5 id="ejemplos-17"><a href="#ejemplos-17" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el servicio REST <span class="token string">'/users'</span>
  <span class="token atrule">Y</span> un usuario identificado por <span class="token string">'123'</span>
  <span class="token atrule">Cuando</span> se elimina el usuario</pre>
<hr>
<h3 id="realizar-llamada-put-con-mensaje"><a href="#realizar-llamada-put-con-mensaje" aria-hidden="true"><span class="icon icon-link"></span></a>Realizar llamada PUT con mensaje</h3>
<pre class="language-text">se reemplaza(n) * con los siguientes datos:</pre>
<p>Envía una petición <code class="language-text">PUT</code> al servicio y recurso REST definido previamente. El cuerpo de la petición será el contenido
indicado a continuación.</p>
<h5 id="parámetros-16"><a href="#par%C3%A1metros-16" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><code class="language-text">document</code></td>
<td>El cuerpo de la petición</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-18"><a href="#ejemplos-18" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el servicio REST <span class="token string">'/users'</span>
  <span class="token atrule">Y</span> un usuario identificado por <span class="token string">'123'</span>
  <span class="token atrule">Cuando</span> se reemplaza el usuario con los siguientes datos:
    <span class="token pystring string">"""json
    {
        "firstName": "John",
        "lastName": "Doe",
        "birthDate": "1980-02-20",
        "address": "221B, Baker Street"
    }
    """</span></pre>
<hr>
<h3 id="realizar-llamada-put-con-mensaje-fichero"><a href="#realizar-llamada-put-con-mensaje-fichero" aria-hidden="true"><span class="icon icon-link"></span></a>Realizar llamada PUT con mensaje (fichero)</h3>
<pre class="language-text">se reemplaza(n) * con los datos del fichero {file}</pre>
<p>Envía una petición <code class="language-text">PUT</code> al servicio y recurso REST definido previamente. El cuerpo de la petición será el contenido del
fichero indicado.</p>
<h5 id="parámetros-17"><a href="#par%C3%A1metros-17" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">file</code></td>
<td><code class="language-text">file</code></td>
<td>Fichero con el cuerpo de la petición</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-19"><a href="#ejemplos-19" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el servicio REST <span class="token string">'/users'</span>
  <span class="token atrule">Y</span> un usuario identificado por <span class="token string">'123'</span>
  <span class="token atrule">Cuando</span> se reemplaza el usuario con los datos del fichero <span class="token string">'data/user123.json'</span></pre>
<hr>
<h3 id="realizar-llamada-patch"><a href="#realizar-llamada-patch" aria-hidden="true"><span class="icon icon-link"></span></a>Realizar llamada PATCH</h3>
<pre class="language-text">se modifica(n) * </pre>
<p>Envía una petición <code class="language-text">PATCH</code> al servicio y recurso REST definido previamente. </p>
<h5 id="ejemplos-20"><a href="#ejemplos-20" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el servicio REST <span class="token string">'/users'</span>
  <span class="token atrule">Y</span> un usuario identificado por <span class="token string">'123'</span>
  <span class="token atrule">Y</span> los siguientes parámetros de búsqueda:<span class="token table-head">
    <span class="token punctuation">|</span><span class="token th variable"> name </span><span class="token punctuation">|</span><span class="token th variable"> value    </span><span class="token punctuation">|</span></span><span class="token table-body">
    <span class="token punctuation">|</span><span class="token td string"> age  </span><span class="token punctuation">|</span><span class="token td string"> 13       </span><span class="token punctuation">|</span>
    <span class="token punctuation">|</span><span class="token td string"> city </span><span class="token punctuation">|</span><span class="token td string"> Valencia </span><span class="token punctuation">|</span></span>
  <span class="token atrule">Cuando</span> se modifica el usuario</pre>
<hr>
<h3 id="realizar-llamada-patch-con-mensaje"><a href="#realizar-llamada-patch-con-mensaje" aria-hidden="true"><span class="icon icon-link"></span></a>Realizar llamada PATCH con mensaje</h3>
<pre class="language-text">se modifica(n) * con los siguientes datos:</pre>
<p>Envía una petición <code class="language-text">PATCH</code> al servicio y recurso REST definido previamente. El cuerpo de la petición será el contenido
indicado a continuación.</p>
<h5 id="parámetros-18"><a href="#par%C3%A1metros-18" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><code class="language-text">document</code></td>
<td>El cuerpo de la petición</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-21"><a href="#ejemplos-21" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el servicio REST <span class="token string">'/users'</span>
  <span class="token atrule">Y</span> un usuario identificado por <span class="token string">'123'</span>
  <span class="token atrule">Cuando</span> se modifica el usuario con los siguientes datos:
    <span class="token pystring string">"""json
    {
        "firstName": "Jim"
    }
    """</span></pre>
<hr>
<h3 id="realizar-llamada-patch-con-mensaje-fichero"><a href="#realizar-llamada-patch-con-mensaje-fichero" aria-hidden="true"><span class="icon icon-link"></span></a>Realizar llamada PATCH con mensaje (fichero)</h3>
<pre class="language-text">se modifica(n) * con los datos del fichero {file}</pre>
<p>Envía una petición <code class="language-text">PATCH</code> al servicio y recurso REST definido previamente. El cuerpo de la petición será el contenido
del fichero indicado.</p>
<h5 id="parámetros-19"><a href="#par%C3%A1metros-19" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">file</code></td>
<td><code class="language-text">file</code></td>
<td>Fichero con el cuerpo de la petición</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-22"><a href="#ejemplos-22" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el servicio REST <span class="token string">'/users'</span>
  <span class="token atrule">Y</span> un usuario identificado por <span class="token string">'123'</span>
  <span class="token atrule">Cuando</span> se modifica el usuario con los datos del fichero <span class="token string">'data/user123.json'</span></pre>
<hr>
<h3 id="realizar-llamada-post"><a href="#realizar-llamada-post" aria-hidden="true"><span class="icon icon-link"></span></a>Realizar llamada POST</h3>
<pre class="language-text">se crea(n) *</pre>
<pre class="language-text">se envía al servicio la información</pre>
<p>Envía una petición <code class="language-text">POST</code> al servicio definido previamente.</p>
<h5 id="ejemplo-2"><a href="#ejemplo-2" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplo:</h5>
<pre class="language-gherkin">  <span class="token atrule">Dado</span> el servicio REST <span class="token string">'/users'</span>
  <span class="token atrule">Dados</span> los siguiente parámetros de solicitud:<span class="token table-head">
    <span class="token punctuation">|</span><span class="token th variable"> nombre </span><span class="token punctuation">|</span><span class="token th variable"> valor    </span><span class="token punctuation">|</span></span><span class="token table-body">
    <span class="token punctuation">|</span><span class="token td string"> age    </span><span class="token punctuation">|</span><span class="token td string"> 13       </span><span class="token punctuation">|</span>
    <span class="token punctuation">|</span><span class="token td string"> city   </span><span class="token punctuation">|</span><span class="token td string"> Valencia </span><span class="token punctuation">|</span></span>
  <span class="token atrule">Cuando</span> envía al servicio la información</pre>
<hr>
<h3 id="realizar-llamada-post-con-mensaje"><a href="#realizar-llamada-post-con-mensaje" aria-hidden="true"><span class="icon icon-link"></span></a>Realizar llamada POST con mensaje</h3>
<pre class="language-text">se crea(n) * con los siguientes datos:</pre>
<pre class="language-text">se envía al servicio los siguientes datos:</pre>
<p>Envía una petición <code class="language-text">POST</code> al servicio definido previamente. El cuerpo de la petición se rellenará con el contenido
indicado a continuación.</p>
<h5 id="parámetros-20"><a href="#par%C3%A1metros-20" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><code class="language-text">document</code></td>
<td>El cuerpo de la petición</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-23"><a href="#ejemplos-23" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Cuando</span> se crea un usuario con los siguientes datos:
    <span class="token pystring string">"""json
    {
        "firstName": "John",
        "lastName": "Doe",
        "birthDate": "1980-02-20",
        "address": "221B, Baker Street"
    }
    """</span></pre>
<pre class="language-gherkin">  <span class="token atrule">Cuando</span> se envía al servicio los siguientes datos:
    <span class="token pystring string">"""json
    {
        "date": "2021-10-30"
    }
    """</span></pre>
<hr>
<h3 id="realizar-llamada-post-con-mensaje-fichero"><a href="#realizar-llamada-post-con-mensaje-fichero" aria-hidden="true"><span class="icon icon-link"></span></a>Realizar llamada POST con mensaje (fichero)</h3>
<pre class="language-text">se crea(n) * con los datos del fichero {file}</pre>
<pre class="language-text">se envía al servicio los datos del fichero {file}</pre>
<p>Envía una petición <code class="language-text">POST</code> al servicio definido previamente. El cuerpo de la petición se rellenará con el contenido del
fichero indicado.</p>
<h5 id="parámetros-21"><a href="#par%C3%A1metros-21" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">file</code></td>
<td><code class="language-text">file</code></td>
<td>Fichero con el cuerpo de la petición</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-24"><a href="#ejemplos-24" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Cuando</span> se crea un usuario con los datos del fichero <span class="token string">'data/user123.json'</span></pre>
<pre class="language-gherkin">  <span class="token atrule">Cuando</span> se envía al servicio los datos del fichero <span class="token string">'booking.json'</span></pre>
<hr>
<h3 id="comprobar-código-http-de-respuesta"><a href="#comprobar-c%C3%B3digo-http-de-respuesta" aria-hidden="true"><span class="icon icon-link"></span></a>Comprobar código HTTP de respuesta</h3>
<pre class="language-text">el código de respuesta HTTP {matcher}</pre>
<p>Comprueba que el código HTTP de la última respuesta satisface una validación de enteros.</p>
<h5 id="parámetros-22"><a href="#par%C3%A1metros-22" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">matcher</code></td>
<td><code class="language-text">integer-assertion</code></td>
<td>Una validación de enteros</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-25"><a href="#ejemplos-25" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Entonces</span> el código de respuesta HTTP es 201</pre>
<hr>
<h3 id="comprobar-mensaje-de-respuesta"><a href="#comprobar-mensaje-de-respuesta" aria-hidden="true"><span class="icon icon-link"></span></a>Comprobar mensaje de respuesta</h3>
<pre class="language-text">la respuesta es exactamente:</pre>
<p>Valida que el cuerpo de la respuesta sea exacto al indicado, incluyendo el orden de los campos.</p>
<pre class="language-text">la respuesta es exactamente \(en cualquier orden\):</pre>
<p>Valida que el cuerpo de la respuesta sea exacto al indicado, pero pueden llegar los campos en diferente orden.</p>
<pre class="language-text">la respuesta es parcialmente:</pre>
<p>Valida que el cuerpo de la respuesta incluya, al menos, los campos indicados.</p>
<h5 id="parámetros-23"><a href="#par%C3%A1metros-23" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><code class="language-text">document</code></td>
<td>El contenido esperado</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-26"><a href="#ejemplos-26" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Entonces</span> la respuesta es exactamente:
    <span class="token pystring string">"""json
    {
        "age": 23,
        "name": "John"
    }
    """</span></pre>
<hr>
<h3 id="comprobar-mensaje-de-respuesta-fichero"><a href="#comprobar-mensaje-de-respuesta-fichero" aria-hidden="true"><span class="icon icon-link"></span></a>Comprobar mensaje de respuesta (fichero)</h3>
<pre class="language-text">la respuesta es exactamente el contenido del fichero {file}</pre>
<p>Valida que el cuerpo de la respuesta sea exacto al indicado en el fichero, incluyendo el orden de los campos.</p>
<pre class="language-text">la respuesta es exactamente el contenido del fichero {file} \(en cualquier orden\)</pre>
<p>Valida que el cuerpo de la respuesta sea exacto al indicado en el fichero, pero pueden llegar los campos en diferente orden.</p>
<pre class="language-text">la respuesta es parcialmente el contenido del fichero {file}</pre>
<p>Valida que el cuerpo de la respuesta incluya, al menos, los campos indicados en el fichero.</p>
<h5 id="parámetros-24"><a href="#par%C3%A1metros-24" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">file</code></td>
<td><code class="language-text">file</code></td>
<td>Un fichero existente</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-27"><a href="#ejemplos-27" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Entonces</span> la respuesta es parcialmente el contenido del fichero <span class="token string">'data/response1.json'</span></pre>
<hr>
<h3 id="comprobar-fragmento-de-la-respuesta"><a href="#comprobar-fragmento-de-la-respuesta" aria-hidden="true"><span class="icon icon-link"></span></a>Comprobar fragmento de la respuesta</h3>
<pre class="language-text">el (texto|entero|decimal) del fragmento de la respuesta {fragment} {matcher}</pre>
<p>Valida el valor (<em>texto</em>, <em>entero</em> o <em>decimal</em>) de un fragmento del cuerpo de respuesta, localizado mediante una ruta dada
(usando <a href="https://goessner.net/articles/JsonPath/" target="_blank" rel="nofollow noopener noreferrer">JSONPath</a> o <a href="https://en.wikipedia.org/wiki/XPath" title="XPath" target="_blank" rel="nofollow noopener noreferrer">XPath</a> dependiendo del tipo de contenido).</p>
<h5 id="parámetros-25"><a href="#par%C3%A1metros-25" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">fragment</code></td>
<td><code class="language-text">text</code></td>
<td>Una ruta JSONPath or XPath</td>
</tr>
<tr>
<td><code class="language-text">matcher</code></td>
<td><code class="language-text">*-assertion</code></td>
<td>El comparador del fragmento</td>
</tr>
</tbody>
</table>
<p><code class="language-text">*</code>: <code class="language-text">text</code>, <code class="language-text">integer</code> o <code class="language-text">decimal</code>, dependiendo del tipo indicado en el paso.</p>
<h5 id="ejemplos-28"><a href="#ejemplos-28" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Entonces</span> el decimal del fragmento de la respuesta 'users[1].account.availableMoney` es mayor que 23.57</pre>
<pre class="language-gherkin">  <span class="token atrule">Entonces</span> el texto del fragmento de la respuesta <span class="token string">'users[1].name` no es '</span>John'</pre>
<hr>
<h3 id="comprobar-tipo-de-contenido-de-la-respuesta"><a href="#comprobar-tipo-de-contenido-de-la-respuesta" aria-hidden="true"><span class="icon icon-link"></span></a>Comprobar tipo de contenido de la respuesta</h3>
<pre class="language-text">el tipo de contenido de la respuesta es {word}</pre>
<p>Valida que el tipo de contenido de la última respuesta es el esperado.
Este paso equivale a validar que el valor de la cabecera <code class="language-text">Content-Type</code> de la respuesta es el tipo MIME correspondiente.</p>
<h5 id="parámetros-26"><a href="#par%C3%A1metros-26" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">word</code></td>
<td><code class="language-text">word</code></td>
<td><code class="language-text">ANY</code>,<code class="language-text">TEXT</code>,<code class="language-text">JSON</code>,<code class="language-text">XML</code>,<code class="language-text">HTML</code>,<code class="language-text">URLENC</code>,<code class="language-text">BINARY</code></td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-29"><a href="#ejemplos-29" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Entonces</span> el tipo de contenido de la respuesta es JSON</pre>
<hr>
<h3 id="comprobar-tamaño-de-la-respuesta"><a href="#comprobar-tama%C3%B1o-de-la-respuesta" aria-hidden="true"><span class="icon icon-link"></span></a>Comprobar tamaño de la respuesta</h3>
<pre class="language-text">el tamaño de la respuesta {matcher}</pre>
<p>Comprueba que la longitud en bytes de la última respuesta satisface una validación.</p>
<h5 id="parámetros-27"><a href="#par%C3%A1metros-27" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">matcher</code></td>
<td><code class="language-text">integer-assertion</code></td>
<td>Una validación de enteros</td>
</tr>
</tbody>
</table>
<h5 id="ejemplos-30"><a href="#ejemplos-30" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Entonces</span> el tamaño de la respuesta es menor que 500</pre>
<hr>
<h3 id="comprobar-cabecera"><a href="#comprobar-cabecera" aria-hidden="true"><span class="icon icon-link"></span></a>Comprobar cabecera</h3>
<pre class="language-text">el (texto|entero|decimal) de la cabecera de la respuesta {name} {matcher}</pre>
<p>Comprueba que una determinada cabecera HTTP en la última respuesta satisface una validación de <em>texto</em>, <em>entero</em> o
<em>decimal</em>.</p>
<h5 id="parámetros-28"><a href="#par%C3%A1metros-28" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>Nombre</th>
<th>Wakamiti type</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">name</code></td>
<td><code class="language-text">text</code></td>
<td>Nombre de la cabecera</td>
</tr>
<tr>
<td><code class="language-text">matcher</code></td>
<td><code class="language-text">*-assertion</code></td>
<td><a href="/wakamiti//kukumo/architecture#comparadores">Comparador</a> de texto o numérico</td>
</tr>
</tbody>
</table>
<p><code class="language-text">*</code>: <code class="language-text">text</code>, <code class="language-text">integer</code> o <code class="language-text">decimal</code>, dependiendo del tipo indicado en el paso.</p>
<h5 id="ejemplos-31"><a href="#ejemplos-31" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplos:</h5>
<pre class="language-gherkin">  <span class="token atrule">Entonces</span> el texto de la cabecera de la respuesta Content-Encoding contiene <span class="token string">'gzip'</span></pre>
<pre class="language-gherkin">  <span class="token atrule">Entonces</span> el entero de la cabecera de la respuesta Age es mayor que 10</pre>
<hr>
<h3 id="comprobar-esquema-de-la-respuesta"><a href="#comprobar-esquema-de-la-respuesta" aria-hidden="true"><span class="icon icon-link"></span></a>Comprobar esquema de la respuesta</h3>
<pre class="language-text">la respuesta cumple el siguiente esquema:</pre>
<p>Valida que la estructura del cuerpo de la respuesta REST satisface el esquema proporcionado a continuación. Los formatos
de esquema aceptados son <a href="https://json-schema.org/" title="JSON Schema" target="_blank" rel="nofollow noopener noreferrer">JSON Schema</a> para respuestas JSON y <a href="https://www.w3.org/2001/XMLSchema" title="XML Schema" target="_blank" rel="nofollow noopener noreferrer">XML Schema</a> para las respuestas
XML (en función de la cabecera de respuesta HTTP <code class="language-text">Content-Type</code>).</p>
<h5 id="parámetros-29"><a href="#par%C3%A1metros-29" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>nombre</th>
<th>Wakamiti type</th>
<th>descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><code class="language-text">document</code></td>
<td>JSON Schema o XML Schema</td>
</tr>
</tbody>
</table>
<h5 id="ejemplo-3"><a href="#ejemplo-3" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplo:</h5>
<pre class="language-gherkin">  <span class="token atrule">Entonces</span> la respuesta cumple el siguiente esquema:
    <span class="token pystring string">"""json
     {
       "$schema": "http://json-schema.org/draft-04/schema#",
       "type": "object",
       "properties": {
         "id":         { "type": "string", "pattern": "[a-zA-Z0-9]+" },
         "name":       { "type": "string" },
         "age":        { "type": "integer", "minimum": 5 },
         "vegetables": {
           "type": "array",
           "items": [ {
               "type": "object",
               "properties": {
                 "id":          { "type": "integer" },
                 "description": { "type": "string"  }
               },
               "required": [ "id", "description" ]
           } ]
         },
         "contact": {
           "type": "object",
           "properties": {
             "email": { "type": "string", "pattern": "^[a-zA-Z0-9]+@[a-zA-Z0-9\.]+$" }
           }
         }
       }
     }
    """</span></pre>
<hr>
<h3 id="comprobar-esquema-de-la-respuesta-fichero"><a href="#comprobar-esquema-de-la-respuesta-fichero" aria-hidden="true"><span class="icon icon-link"></span></a>Comprobar esquema de la respuesta (fichero)</h3>
<pre class="language-text">la respuesta cumple el esquema del fichero {file}</pre>
<p>Valida que la estructura del cuerpo de la respuesta REST satisface un esquema proporcionado por fichero. Los formatos de
esquema aceptados son <a href="https://json-schema.org/" title="JSON Schema" target="_blank" rel="nofollow noopener noreferrer">JSON Schema</a> para respuestas JSON y <a href="https://www.w3.org/2001/XMLSchema" title="XML Schema" target="_blank" rel="nofollow noopener noreferrer">XML Schema</a> para las respuestas XML
(en función de la cabecera de respuesta HTTP <code class="language-text">Content-Type</code>).</p>
<h5 id="parámetros-30"><a href="#par%C3%A1metros-30" aria-hidden="true"><span class="icon icon-link"></span></a>Parámetros:</h5>
<table>
<thead>
<tr>
<th>nombre</th>
<th>Wakamiti type</th>
<th>descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><code class="language-text">file</code></td>
<td>Fichero con un JSON Schema o un XML Schema</td>
</tr>
</tbody>
</table>
<h5 id="ejemplo-4"><a href="#ejemplo-4" aria-hidden="true"><span class="icon icon-link"></span></a>Ejemplo:</h5>
<pre class="language-gherkin">  <span class="token atrule">Entonces</span> la respuesta cumple el esquema del fichero <span class="token string">'data/user-schema.json'</span></pre>
</div></main></div>
    <script src="/wakamiti/assets/js/app.54d2e76b.js" defer></script><script src="/wakamiti/assets/js/page--src--templates--doc-vue.dc5e733b.js" defer></script>
  </body>
</html>
