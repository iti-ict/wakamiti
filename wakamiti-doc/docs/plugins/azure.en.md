---
title: Azure Integration
date: 2023-07-04
slug: /en/plugins/azure
---


By attaching files (such as those generated by the HTML Reporter plugin) to the [Azure](https://azure.microsoft.com/) 
run, this plugin integrates the results of a Wakamiti execution into an existing Azure test plan.

---
## Tabla de contenido

---


## Install


Include the module in the corresponding section.

```text tabs=coord name=yaml copy=true
es.iti.wakamiti:azure-wakamiti-plugin:1.7.0
```

```text tabs=coord name=maven copy=true
<dependency>
  <groupId>es.iti.wakamiti</groupId>
  <artifactId>azure-wakamiti-plugin</artifactId>
  <version>1.7.0</version>
</dependency>
```


## Options


###  `azure.disabled`
- Type: `boolean`
- Default `false`

Disable entirely this plugin.

Example:
```yaml
azure:
  disabled: true
  
```


###  `azure.host`
- Type: `string` *required*

The host address where the Azure server is located.

Example:
```yaml
azure:
  host: azure.mycompany.org
```


###  `azure.credentials.user`
- Type: `string` *required*

Username to be used with the Azure REST API, passed as an HTTP basic authentication.

Example:
```yaml
azure:
  credentials:
    user: myuser
```


###  `azure.credentials.password`
- Type: `string` *required*

Password to be used with the Azure REST API, passed as a HTTP basic authentication.

Example:
```yaml
azure:
  credentials:
    password: xKHJFHLKJ7897
```


###  `azure.apiVersion`
- Type: `string` *required*
- Default: `6.0-preview`

The Azure REST API version to be used to send the notifications.

> Using an older version may result in certain functionality, such as creating new test cases, not working correctly.

Example:
```yaml
azure:
  apiVersion: '6.0-preview'
```


###  `azure.organization`
- Type: `string` *required*

The name of the organisation in Azure to which the test plan belongs.

Example:
```yaml
azure:
  organization: MyOrganization
```


###  `azure.project`
- Type: `string` *required*

The name of the Azure project that the test plan belongs to.

Example:
```yaml
azure:
  project: MyProject
```


###  `azure.tag`
- Type: `string` *required*
- Default: `Azure`

The tag to look for when deciding whether, or not, to integrate with Azure.

Example:
```yaml
azure:
  tag: AzureExecution
```


###  `azure.attachments`
- Type: `string[]`

A list of files, o filename patterns in _glob_ format, that would be attached to the Azure run.

Example:
```yaml
azure:
  attachments:
    - 'wakamiti.html'
    - '*.json'  
```


###  `azure.createItemsIfAbsent`
- Type: `boolean`
- Default: `false`

Set whether to automatically create elements (plans, suites, and test cases) that do not exist in Azure.

Example:
```yaml
azure:
  createItemsIfAbsent: true
```


###  `azure.workItemTestCaseType`
- Type: `string` *required*

The nomenclature used by the Azure instance to refer to work items classified as test cases.

Example:
```yaml
azure:
  workItemTestCaseType: "Test Case"
```


###  `azure.timeZoneAdjustment`
- Type: `integer` *required*
- Default: `0`

Applies a time adjustment when reporting execution start and end times if the Azure instance is running in a different 
time zone.

Example:
```yaml
azure:
  timezoneAdjustment: -2
```


## Usage

In order for the plugin to send the results, two conditions must be met:

- The scenario/feature must be tagged with a specific tag (`@Azure` by default)
- The scenario/feature must have the following properties defined:
  - `azurePlan`: name of the test plan in Azure.
  - `azureArea`: name of the area the plan belongs to.
  - `azureIteration`: path of the iteration of the plan, separated by `\\`.
  - `azureTest`: name of the test case (if omitted, the name of the Wakamiti feature/scenario is used).
  - `azureTestId`: work item identifier corresponding to the test case in Azure.

The test cases that do not have this defined will be ignored during the integration.

If the Wakamiti run contains test cases from several different Azure plans, a separate Azure run will be created for 
each of them.


Examples:

```gherkin
@Azure
# azurePlan: MyPlan
# azureArea: AAA
# azureIteration: AAA\\Iteration 1
# azureSuite: MySuite
# azureTest: MyTest
Feature: User creation tests

Scenario: Create a non-existing user
...

Scenario: Create an existing user
...
```

```gherkin
@Azure
# azurePlan: MyPlan
# azureArea: AAA
# azureIteration: AAA\\Iteration 1
# azureSuite: MySuite
Feature: User creation tests

# azureTest: MyFirstTest
# azureTestId: 432554
Scenario: Create a non-existing user
...

# azureTest: MySecondTest
Scenario: Create an existing use
...
```

Test cases that do not have this defined will be ignored during the integration.

If the Wakamiti run contains test cases from several different Azure plans, a separate Azure run must be created for 
each.
