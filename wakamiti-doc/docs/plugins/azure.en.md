---
title: Azure Integration
date: 2023-07-04
slug: /en/plugins/azure
---

This plugin integrates the results of a Wakamiti execution with an existing
[Azure](https://azure.microsoft.com/) test plan, being able to attach files (such as the
one generated by the HTML Reporter plugin) to the Azure run.

In order to send the results to the Azure instance, two conditions must be satisfied:

- The scenario/feature must be tagged with an specific tag (`@Azure` by default)
- The scenario/feature can define the following properties:
    - `azurePlan` : the test plan name in Azure
    - `azureArea` : the area that the test plan belongs to
    - `azureIteration` : iteration path of the test plan, with segments separated by `\\`
    - `azureTest` : name of the test case (if absent, the name of the feature/scenario in Wakamiti should be used)
    - `azureTestId` : work item identifier of the test case in Azure

Test cases not satisfying this criteria will be ignored.

In case the Wakamiti plan includes test cases from several Azure test plans, the plugin will create
a different run for each one of them.



Examples:

```gherkin
@Azure
# azurePlan: MyPlan
# azureArea: AAA
# azureIteration: AAA\\Iteration 1
# azureSuite: MySuite
# azureTest: MyTest
Feature: User creation tests

Scenario: Create a non-existing user
...

Scenario: Create an existing user
...
```

```gherkin
@Azure
# azurePlan: MyPlan
# azureArea: AAA
# azureIteration: AAA\\Iteration 1
# azureSuite: MySuite
Feature: User creation tests

# azureTest: MyFirstTest
# azureTestId: 432554 
Scenario: Create a non-existing user
...

# azureTest: MySecondTest
Scenario: Create an existing use
...
```


---
## Table of content

---

Coordinates
----------------------------------------------------------------------------------------------------

### Wakamiti configuration file

```yaml
wakamiti:
    launcher:
        modules:
            - es.iti.wakamiti:azure-wakamiti-plugin:1.4.0
```

### Maven

```
  <dependency>
    <groupId>es.iti.wakamiti</groupId>
    <artifactId>azure-wakamiti-plugin</artifactId>
    <version>1.4.0</version>
  </dependency>
```


## Configuration


---
####  `azure.host`
The host address where the Azure server is located.

Example:

```yaml
azure:
  host: azure.mycompany.org
  
```

---
####  `azure.credentials.user`
Username to be used with the Azure REST API, passed as a HTTP basic authentication.

Example:

```yaml
azure:
  credentials:
    user: myuser

```


---
####  `azure.credentials.password`
Password to be used with the Azure REST API, passed as a HTTP basic authentication.

Example:

```yaml
azure:
  credentials:
    password: xKHJFHLKJ7897
  
```


---
####  `azure.apiVersion`
The Azure REST API version to be used to send the notifications.

Default value is `5.0-preview`.

Example:

```yaml
azure:
  apiVersion: '6.0-preview'
  
```


---
####  `azure.organization`
The Azure organization owning the test plan.

Example:

```yaml
azure:
  organization: MyOrganization
  
```


---
####  `azure.project`
The Azure project owning of the test plan.

Example:

```yaml
azure:
  project: MyProject
  
```


---
####  `azure.tag`
The tag to be used to decide if the Azure integration should be applied.

Default value is `Azure`.

Example:

```yaml
azure:
  tag: AzureExecution
  
```



---
####  `azure.attachments`
A list of files, o filename patterns in _glob_ format, that would be attached to the Azure run.


Example:

```yaml
azure:
  attachments:
    - 'wakamiti.html'
    - '*.json'  
```





---
####  `azure.createItemsIfAbsent`
Set whether elements such as test plans, suites, and test cases, should be automatically created
in Azure when they are absent.

Default value is `false`.

Ejemplo:

```yaml
azure:
  createItemsIfAbsent: true
```



---
####  `azure.workItemTestCaseType`
Naming used by the Azure instance to classify the test case work items. It is required when
new test cases are created.


Example:

```yaml
azure:
  workItemTestCaseType: "Test Case"
```



---
####  `azure.timeZoneAdjustment`
Apply a time zona adjustment when notifying the start and finish instants, in case the Azure
instance works with a distint time zone.

Default value is `0`.

Example:

```yaml
azure:
  timezoneAdjustment: -2
```


